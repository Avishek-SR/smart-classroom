{"ast":null,"code":"var _jsxFileName = \"/Volumes/Macbook-1/GITAM/5th_sem/WADSF/project/Mini project/smart-classroom/frontend/src/pages/admin/tabs/CourseFacultyMappingTab.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, Button, Grid, Card, CardContent, Chip, IconButton, Paper, TextField, FormControl, InputLabel, Select, MenuItem, Dialog, DialogTitle, DialogContent, DialogActions, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Switch, FormControlLabel, Alert, Snackbar, CircularProgress, Tooltip, Tabs, Tab, Avatar, List, ListItem, ListItemText, ListItemIcon, Divider, Backdrop, Fab, Badge, LinearProgress } from '@mui/material';\nimport { Add, Refresh, Edit, Delete, Person, Class, Link, LinkOff, Search, FilterList, AutoFixHigh, CheckCircle, Warning, School, Group, Map, Visibility, Download, Upload, Clear, Save, Cancel, ArrowForward, ArrowBack } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CourseFacultyMappingTab = ({\n  courses = [],\n  faculty = [],\n  onMapCourseToFaculty,\n  onUnmapCourseFromFaculty,\n  onAutoMapCourses,\n  onSaveMappings,\n  loading = false\n}) => {\n  _s();\n  const [localCourses, setLocalCourses] = useState([]);\n  const [localFaculty, setLocalFaculty] = useState([]);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [viewMode, setViewMode] = useState('unmapped');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedDepartment, setSelectedDepartment] = useState('all');\n  const [selectedFaculty, setSelectedFaculty] = useState(null);\n  const [mappingDialogOpen, setMappingDialogOpen] = useState(false);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [autoMapProgress, setAutoMapProgress] = useState(0);\n  const [mappingHistory, setMappingHistory] = useState([]);\n  const [bulkSelection, setBulkSelection] = useState([]);\n\n  // FIXED: Initialize with proper data synchronization\n  useEffect(() => {\n    console.log('Courses from props:', courses);\n    console.log('Faculty from props:', faculty);\n    if (courses && courses.length > 0) {\n      setLocalCourses(courses.map(course => {\n        var _course$faculty, _course$faculty2;\n        return {\n          ...course,\n          // Ensure facultyId is properly set\n          facultyId: course.facultyId || ((_course$faculty = course.faculty) === null || _course$faculty === void 0 ? void 0 : _course$faculty._id) || ((_course$faculty2 = course.faculty) === null || _course$faculty2 === void 0 ? void 0 : _course$faculty2.id) || null,\n          faculty: course.faculty || null\n        };\n      }));\n    }\n    if (faculty && faculty.length > 0) {\n      setLocalFaculty(faculty);\n    }\n  }, [courses, faculty]);\n\n  // Get departments from courses and faculty\n  const departments = [...new Set([...localCourses.map(course => course.department), ...localFaculty.map(f => f.department)])].filter(Boolean);\n\n  // FIXED: Better course filtering with proper faculty mapping check\n  const filteredCourses = localCourses.filter(course => {\n    var _course$name, _course$code;\n    if (!course) return false;\n    const matchesSearch = ((_course$name = course.name) === null || _course$name === void 0 ? void 0 : _course$name.toLowerCase().includes(searchTerm.toLowerCase())) || ((_course$code = course.code) === null || _course$code === void 0 ? void 0 : _course$code.toLowerCase().includes(searchTerm.toLowerCase()));\n    const matchesDepartment = selectedDepartment === 'all' || course.department === selectedDepartment;\n\n    // FIXED: Proper mapping check\n    const isMapped = Boolean(course.facultyId || course.faculty);\n    switch (viewMode) {\n      case 'unmapped':\n        return matchesSearch && matchesDepartment && !isMapped;\n      case 'mapped':\n        return matchesSearch && matchesDepartment && isMapped;\n      case 'all':\n      default:\n        return matchesSearch && matchesDepartment;\n    }\n  });\n\n  // Get faculty by department\n  const getFacultyByDepartment = department => {\n    return localFaculty.filter(f => f.department === department);\n  };\n\n  // FIXED: Get mapped faculty with better ID matching\n  const getMappedFaculty = course => {\n    if (!course.facultyId && !course.faculty) return null;\n\n    // Try to find faculty by ID first\n    if (course.facultyId) {\n      const facultyById = localFaculty.find(f => f.id === course.facultyId || f._id === course.facultyId);\n      if (facultyById) return facultyById;\n    }\n\n    // If faculty object exists, use it\n    if (course.faculty) {\n      return course.faculty;\n    }\n    return null;\n  };\n\n  // Handle manual mapping\n  const handleMapCourse = course => {\n    setSelectedCourse(course);\n    setMappingDialogOpen(true);\n  };\n\n  // FIXED: Enhanced auto mapping with better error handling\n  const handleAutoMapAll = async () => {\n    setAutoMapProgress(0);\n    try {\n      const unmappedCourses = localCourses.filter(course => !course.facultyId && !course.faculty);\n      console.log('Unmapped courses for auto-mapping:', unmappedCourses.length);\n      let progress = 0;\n      let successCount = 0;\n      for (const course of unmappedCourses) {\n        const suitableFaculty = findSuitableFaculty(course);\n        if (suitableFaculty) {\n          try {\n            await handleMapCourseToFaculty(course, suitableFaculty, false);\n            successCount++;\n          } catch (err) {\n            console.error(`Failed to auto-map course ${course.code}:`, err);\n          }\n        }\n        progress += 1;\n        setAutoMapProgress(Math.round(progress / unmappedCourses.length * 100));\n        await new Promise(resolve => setTimeout(resolve, 50));\n      }\n      setSuccess(`Auto-mapped ${successCount} out of ${unmappedCourses.length} courses successfully!`);\n    } catch (err) {\n      setError('Failed to auto-map courses: ' + err.message);\n    } finally {\n      setAutoMapProgress(0);\n    }\n  };\n\n  // FIXED: Better faculty finding algorithm\n  const findSuitableFaculty = course => {\n    if (!course.department) {\n      console.log('Course has no department:', course.code);\n      return null;\n    }\n\n    // Get faculty from same department\n    const departmentFaculty = getFacultyByDepartment(course.department);\n    if (departmentFaculty.length === 0) {\n      console.log('No faculty found in department:', course.department);\n      return null;\n    }\n\n    // Count current course load for each faculty\n    const facultyLoad = {};\n    localCourses.forEach(c => {\n      if (c.facultyId) {\n        const facultyId = c.facultyId;\n        facultyLoad[facultyId] = (facultyLoad[facultyId] || 0) + 1;\n      }\n    });\n\n    // Find faculty with least courses from same department\n    const suitableFaculty = departmentFaculty.filter(f => {\n      const facultyId = f.id || f._id;\n      return !facultyLoad[facultyId] || facultyLoad[facultyId] < 6; // Increased limit\n    }).sort((a, b) => {\n      const aId = a.id || a._id;\n      const bId = b.id || b._id;\n      return (facultyLoad[aId] || 0) - (facultyLoad[bId] || 0);\n    })[0];\n    if (!suitableFaculty) {\n      console.log('No suitable faculty found for course:', course.code);\n      return departmentFaculty[0]; // Fallback to first faculty\n    }\n    return suitableFaculty;\n  };\n\n  // FIXED: Enhanced mapping function with better state updates\n  const handleMapCourseToFaculty = async (course, faculty, showNotification = true) => {\n    try {\n      const facultyId = faculty.id || faculty._id;\n      const courseId = course.id || course._id;\n      console.log('Mapping course:', course.code, 'to faculty:', faculty.name, 'ID:', facultyId);\n      const mappingData = {\n        courseId: courseId,\n        facultyId: facultyId,\n        courseCode: course.code,\n        facultyName: faculty.name,\n        department: course.department\n      };\n\n      // Call backend API if provided\n      if (onMapCourseToFaculty) {\n        console.log('Calling backend mapping API...');\n        await onMapCourseToFaculty(mappingData);\n      }\n\n      // FIXED: Update local state with proper faculty data\n      setLocalCourses(prev => prev.map(c => {\n        if (c.id === courseId || c._id === courseId) {\n          const updatedCourse = {\n            ...c,\n            facultyId: facultyId,\n            faculty: faculty // Store full faculty object\n          };\n          console.log('Updated course:', updatedCourse);\n          return updatedCourse;\n        }\n        return c;\n      }));\n\n      // Add to history\n      setMappingHistory(prev => [...prev, {\n        type: 'map',\n        course: course.code,\n        faculty: faculty.name,\n        timestamp: new Date().toISOString()\n      }]);\n      if (showNotification) {\n        setSuccess(`Course ${course.code} mapped to ${faculty.name} successfully!`);\n      }\n    } catch (err) {\n      console.error('Mapping error:', err);\n      setError('Failed to map course: ' + (err.message || 'Unknown error'));\n      throw err;\n    }\n  };\n\n  // FIXED: Enhanced unmapping function\n  const handleUnmapCourse = async course => {\n    try {\n      const courseId = course.id || course._id;\n      console.log('Unmapping course:', course.code, 'ID:', courseId);\n\n      // Call backend API if provided\n      if (onUnmapCourseFromFaculty) {\n        await onUnmapCourseFromFaculty(courseId);\n      }\n\n      // Update local state\n      setLocalCourses(prev => prev.map(c => c.id === courseId || c._id === courseId ? {\n        ...c,\n        facultyId: null,\n        faculty: null\n      } : c));\n\n      // Add to history\n      setMappingHistory(prev => {\n        var _course$faculty3;\n        return [...prev, {\n          type: 'unmap',\n          course: course.code,\n          faculty: (_course$faculty3 = course.faculty) === null || _course$faculty3 === void 0 ? void 0 : _course$faculty3.name,\n          timestamp: new Date().toISOString()\n        }];\n      });\n      setSuccess(`Course ${course.code} unmapped successfully!`);\n    } catch (err) {\n      console.error('Unmapping error:', err);\n      setError('Failed to unmap course: ' + err.message);\n    }\n  };\n\n  // Statistics with better mapping detection\n  const stats = {\n    totalCourses: localCourses.length,\n    mappedCourses: localCourses.filter(c => c.facultyId || c.faculty).length,\n    unmappedCourses: localCourses.filter(c => !c.facultyId && !c.faculty).length,\n    totalFaculty: localFaculty.length,\n    facultyWithCourses: new Set(localCourses.filter(c => c.facultyId).map(c => c.facultyId)).size\n  };\n\n  // FIXED: Course Card with better mapping display\n  const CourseCard = ({\n    course\n  }) => {\n    var _mappedFaculty$name;\n    const mappedFaculty = getMappedFaculty(course);\n    const isMapped = Boolean(mappedFaculty);\n    console.log('Course card render:', course.code, 'Mapped:', isMapped, 'Faculty:', mappedFaculty);\n    return /*#__PURE__*/_jsxDEV(Card, {\n      elevation: 2,\n      sx: {\n        height: '100%',\n        border: '1px solid',\n        borderColor: isMapped ? 'success.light' : 'grey.300',\n        transition: 'all 0.3s ease',\n        '&:hover': {\n          transform: 'translateY(-2px)',\n          boxShadow: 4\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start',\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              color: \"primary\",\n              sx: {\n                fontFamily: 'monospace',\n                fontWeight: 'bold'\n              },\n              children: course.code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              fontWeight: \"600\",\n              sx: {\n                lineHeight: 1.2,\n                mb: 1\n              },\n              children: course.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            label: course.courseType || 'Lecture',\n            color: course.courseType === 'Lab' ? 'secondary' : 'primary',\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            gutterBottom: true,\n            children: [\"\\uD83D\\uDCDA \", course.credits || 0, \" Credits \\u2022 \\uD83C\\uDFDB\\uFE0F \", course.department || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: [\"\\uD83D\\uDC65 Capacity: \", course.enrolled || 0, \"/\", course.max || 30, \" students\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 2,\n            bgcolor: isMapped ? 'success.light' : 'warning.light',\n            borderRadius: 1,\n            mb: 2\n          },\n          children: isMapped ? /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                sx: {\n                  width: 32,\n                  height: 32,\n                  bgcolor: 'primary.main'\n                },\n                children: ((_mappedFaculty$name = mappedFaculty.name) === null || _mappedFaculty$name === void 0 ? void 0 : _mappedFaculty$name.charAt(0)) || 'F'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  fontWeight: \"600\",\n                  children: mappedFaculty.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: mappedFaculty.department\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Unmap Course\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                color: \"error\",\n                onClick: () => handleUnmapCourse(course),\n                disabled: loading,\n                children: /*#__PURE__*/_jsxDEV(LinkOff, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              fontWeight: \"600\",\n              children: \"Not Assigned\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              size: \"small\",\n              startIcon: /*#__PURE__*/_jsxDEV(Link, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 30\n              }, this),\n              onClick: () => handleMapCourse(course),\n              disabled: loading,\n              children: \"Assign\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), viewMode === 'unmapped' && !isMapped && /*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Switch, {\n            size: \"small\",\n            checked: bulkSelection.includes(course.id || course._id),\n            onChange: e => {\n              if (e.target.checked) {\n                setBulkSelection(prev => [...prev, course.id || course._id]);\n              } else {\n                setBulkSelection(prev => prev.filter(id => id !== (course.id || course._id)));\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 17\n          }, this),\n          label: \"Bulk Select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Rest of the component remains the same...\n  // [FacultyList, MappingDialog, and other components stay the same as in the previous working version]\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          fontWeight: \"bold\",\n          color: \"primary\",\n          gutterBottom: true,\n          children: \"\\uD83D\\uDD17 Course-Faculty Mapping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.secondary\",\n          children: \"Map courses to faculty members and manage teaching assignments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 24\n          }, this),\n          onClick: () => {/* Export functionality */},\n          children: \"Export\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(Save, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 24\n          }, this),\n          onClick: onSaveMappings,\n          disabled: loading,\n          children: \"Save All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      sx: {\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 2.4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(School, {\n              sx: {\n                fontSize: 40,\n                color: 'primary.main',\n                mb: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              fontWeight: \"bold\",\n              children: stats.totalCourses\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Total Courses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 2.4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              sx: {\n                fontSize: 40,\n                color: 'success.main',\n                mb: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              fontWeight: \"bold\",\n              color: \"success.main\",\n              children: stats.mappedCourses\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Mapped Courses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 2.4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Warning, {\n              sx: {\n                fontSize: 40,\n                color: 'warning.main',\n                mb: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              fontWeight: \"bold\",\n              color: \"warning.main\",\n              children: stats.unmappedCourses\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Unmapped Courses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 2.4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Group, {\n              sx: {\n                fontSize: 40,\n                color: 'info.main',\n                mb: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              fontWeight: \"bold\",\n              children: stats.totalFaculty\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Total Faculty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 2.4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Map, {\n              sx: {\n                fontSize: 40,\n                color: 'secondary.main',\n                mb: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              fontWeight: \"bold\",\n              children: stats.facultyWithCourses\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Active Faculty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 2,\n        p: 2,\n        bgcolor: 'grey.100',\n        borderRadius: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        color: \"text.secondary\",\n        children: [\"Debug: Total courses: \", stats.totalCourses, \" | Mapped: \", stats.mappedCourses, \" | Unmapped: \", stats.unmappedCourses]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 482,\n    columnNumber: 5\n  }, this);\n};\n_s(CourseFacultyMappingTab, \"qeXrlTVsrZ1L77c3tYnUF0c7SMQ=\");\n_c = CourseFacultyMappingTab;\nexport default CourseFacultyMappingTab;\nvar _c;\n$RefreshReg$(_c, \"CourseFacultyMappingTab\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Button","Grid","Card","CardContent","Chip","IconButton","Paper","TextField","FormControl","InputLabel","Select","MenuItem","Dialog","DialogTitle","DialogContent","DialogActions","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Switch","FormControlLabel","Alert","Snackbar","CircularProgress","Tooltip","Tabs","Tab","Avatar","List","ListItem","ListItemText","ListItemIcon","Divider","Backdrop","Fab","Badge","LinearProgress","Add","Refresh","Edit","Delete","Person","Class","Link","LinkOff","Search","FilterList","AutoFixHigh","CheckCircle","Warning","School","Group","Map","Visibility","Download","Upload","Clear","Save","Cancel","ArrowForward","ArrowBack","jsxDEV","_jsxDEV","CourseFacultyMappingTab","courses","faculty","onMapCourseToFaculty","onUnmapCourseFromFaculty","onAutoMapCourses","onSaveMappings","loading","_s","localCourses","setLocalCourses","localFaculty","setLocalFaculty","error","setError","success","setSuccess","viewMode","setViewMode","searchTerm","setSearchTerm","selectedDepartment","setSelectedDepartment","selectedFaculty","setSelectedFaculty","mappingDialogOpen","setMappingDialogOpen","selectedCourse","setSelectedCourse","autoMapProgress","setAutoMapProgress","mappingHistory","setMappingHistory","bulkSelection","setBulkSelection","console","log","length","map","course","_course$faculty","_course$faculty2","facultyId","_id","id","departments","Set","department","f","filter","Boolean","filteredCourses","_course$name","_course$code","matchesSearch","name","toLowerCase","includes","code","matchesDepartment","isMapped","getFacultyByDepartment","getMappedFaculty","facultyById","find","handleMapCourse","handleAutoMapAll","unmappedCourses","progress","successCount","suitableFaculty","findSuitableFaculty","handleMapCourseToFaculty","err","Math","round","Promise","resolve","setTimeout","message","departmentFaculty","facultyLoad","forEach","c","sort","a","b","aId","bId","showNotification","courseId","mappingData","courseCode","facultyName","prev","updatedCourse","type","timestamp","Date","toISOString","handleUnmapCourse","_course$faculty3","stats","totalCourses","mappedCourses","totalFaculty","facultyWithCourses","size","CourseCard","_mappedFaculty$name","mappedFaculty","elevation","sx","height","border","borderColor","transition","transform","boxShadow","children","display","justifyContent","alignItems","mb","variant","color","fontFamily","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","lineHeight","label","courseType","gutterBottom","credits","enrolled","max","p","bgcolor","borderRadius","gap","width","charAt","title","onClick","disabled","fontSize","startIcon","control","checked","onChange","e","target","container","spacing","item","xs","sm","md","textAlign","_c","$RefreshReg$"],"sources":["/Volumes/Macbook-1/GITAM/5th_sem/WADSF/project/Mini project/smart-classroom/frontend/src/pages/admin/tabs/CourseFacultyMappingTab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  Button,\n  Grid,\n  Card,\n  CardContent,\n  Chip,\n  IconButton,\n  Paper,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Switch,\n  FormControlLabel,\n  Alert,\n  Snackbar,\n  CircularProgress,\n  Tooltip,\n  Tabs,\n  Tab,\n  Avatar,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  Divider,\n  Backdrop,\n  Fab,\n  Badge,\n  LinearProgress\n} from '@mui/material';\nimport {\n  Add,\n  Refresh,\n  Edit,\n  Delete,\n  Person,\n  Class,\n  Link,\n  LinkOff,\n  Search,\n  FilterList,\n  AutoFixHigh,\n  CheckCircle,\n  Warning,\n  School,\n  Group,\n  Map,\n  Visibility,\n  Download,\n  Upload,\n  Clear,\n  Save,\n  Cancel,\n  ArrowForward,\n  ArrowBack\n} from '@mui/icons-material';\n\nconst CourseFacultyMappingTab = ({ \n  courses = [], \n  faculty = [], \n  onMapCourseToFaculty,\n  onUnmapCourseFromFaculty,\n  onAutoMapCourses,\n  onSaveMappings,\n  loading = false \n}) => {\n  const [localCourses, setLocalCourses] = useState([]);\n  const [localFaculty, setLocalFaculty] = useState([]);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [viewMode, setViewMode] = useState('unmapped');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedDepartment, setSelectedDepartment] = useState('all');\n  const [selectedFaculty, setSelectedFaculty] = useState(null);\n  const [mappingDialogOpen, setMappingDialogOpen] = useState(false);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [autoMapProgress, setAutoMapProgress] = useState(0);\n  const [mappingHistory, setMappingHistory] = useState([]);\n  const [bulkSelection, setBulkSelection] = useState([]);\n\n  // FIXED: Initialize with proper data synchronization\n  useEffect(() => {\n    console.log('Courses from props:', courses);\n    console.log('Faculty from props:', faculty);\n    \n    if (courses && courses.length > 0) {\n      setLocalCourses(courses.map(course => ({\n        ...course,\n        // Ensure facultyId is properly set\n        facultyId: course.facultyId || course.faculty?._id || course.faculty?.id || null,\n        faculty: course.faculty || null\n      })));\n    }\n    if (faculty && faculty.length > 0) {\n      setLocalFaculty(faculty);\n    }\n  }, [courses, faculty]);\n\n  // Get departments from courses and faculty\n  const departments = [...new Set([\n    ...localCourses.map(course => course.department),\n    ...localFaculty.map(f => f.department)\n  ])].filter(Boolean);\n\n  // FIXED: Better course filtering with proper faculty mapping check\n  const filteredCourses = localCourses.filter(course => {\n    if (!course) return false;\n    \n    const matchesSearch = course.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         course.code?.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesDepartment = selectedDepartment === 'all' || course.department === selectedDepartment;\n    \n    // FIXED: Proper mapping check\n    const isMapped = Boolean(course.facultyId || course.faculty);\n    \n    switch (viewMode) {\n      case 'unmapped':\n        return matchesSearch && matchesDepartment && !isMapped;\n      case 'mapped':\n        return matchesSearch && matchesDepartment && isMapped;\n      case 'all':\n      default:\n        return matchesSearch && matchesDepartment;\n    }\n  });\n\n  // Get faculty by department\n  const getFacultyByDepartment = (department) => {\n    return localFaculty.filter(f => f.department === department);\n  };\n\n  // FIXED: Get mapped faculty with better ID matching\n  const getMappedFaculty = (course) => {\n    if (!course.facultyId && !course.faculty) return null;\n    \n    // Try to find faculty by ID first\n    if (course.facultyId) {\n      const facultyById = localFaculty.find(f => \n        f.id === course.facultyId || f._id === course.facultyId\n      );\n      if (facultyById) return facultyById;\n    }\n    \n    // If faculty object exists, use it\n    if (course.faculty) {\n      return course.faculty;\n    }\n    \n    return null;\n  };\n\n  // Handle manual mapping\n  const handleMapCourse = (course) => {\n    setSelectedCourse(course);\n    setMappingDialogOpen(true);\n  };\n\n  // FIXED: Enhanced auto mapping with better error handling\n  const handleAutoMapAll = async () => {\n    setAutoMapProgress(0);\n    \n    try {\n      const unmappedCourses = localCourses.filter(course => \n        !course.facultyId && !course.faculty\n      );\n      \n      console.log('Unmapped courses for auto-mapping:', unmappedCourses.length);\n      \n      let progress = 0;\n      let successCount = 0;\n      \n      for (const course of unmappedCourses) {\n        const suitableFaculty = findSuitableFaculty(course);\n        if (suitableFaculty) {\n          try {\n            await handleMapCourseToFaculty(course, suitableFaculty, false);\n            successCount++;\n          } catch (err) {\n            console.error(`Failed to auto-map course ${course.code}:`, err);\n          }\n        }\n        progress += 1;\n        setAutoMapProgress(Math.round((progress / unmappedCourses.length) * 100));\n        await new Promise(resolve => setTimeout(resolve, 50));\n      }\n      \n      setSuccess(`Auto-mapped ${successCount} out of ${unmappedCourses.length} courses successfully!`);\n    } catch (err) {\n      setError('Failed to auto-map courses: ' + err.message);\n    } finally {\n      setAutoMapProgress(0);\n    }\n  };\n\n  // FIXED: Better faculty finding algorithm\n  const findSuitableFaculty = (course) => {\n    if (!course.department) {\n      console.log('Course has no department:', course.code);\n      return null;\n    }\n    \n    // Get faculty from same department\n    const departmentFaculty = getFacultyByDepartment(course.department);\n    \n    if (departmentFaculty.length === 0) {\n      console.log('No faculty found in department:', course.department);\n      return null;\n    }\n    \n    // Count current course load for each faculty\n    const facultyLoad = {};\n    localCourses.forEach(c => {\n      if (c.facultyId) {\n        const facultyId = c.facultyId;\n        facultyLoad[facultyId] = (facultyLoad[facultyId] || 0) + 1;\n      }\n    });\n    \n    // Find faculty with least courses from same department\n    const suitableFaculty = departmentFaculty\n      .filter(f => {\n        const facultyId = f.id || f._id;\n        return !facultyLoad[facultyId] || facultyLoad[facultyId] < 6; // Increased limit\n      })\n      .sort((a, b) => {\n        const aId = a.id || a._id;\n        const bId = b.id || b._id;\n        return (facultyLoad[aId] || 0) - (facultyLoad[bId] || 0);\n      })[0];\n    \n    if (!suitableFaculty) {\n      console.log('No suitable faculty found for course:', course.code);\n      return departmentFaculty[0]; // Fallback to first faculty\n    }\n    \n    return suitableFaculty;\n  };\n\n  // FIXED: Enhanced mapping function with better state updates\n  const handleMapCourseToFaculty = async (course, faculty, showNotification = true) => {\n    try {\n      const facultyId = faculty.id || faculty._id;\n      const courseId = course.id || course._id;\n      \n      console.log('Mapping course:', course.code, 'to faculty:', faculty.name, 'ID:', facultyId);\n\n      const mappingData = {\n        courseId: courseId,\n        facultyId: facultyId,\n        courseCode: course.code,\n        facultyName: faculty.name,\n        department: course.department\n      };\n\n      // Call backend API if provided\n      if (onMapCourseToFaculty) {\n        console.log('Calling backend mapping API...');\n        await onMapCourseToFaculty(mappingData);\n      }\n\n      // FIXED: Update local state with proper faculty data\n      setLocalCourses(prev => prev.map(c => {\n        if (c.id === courseId || c._id === courseId) {\n          const updatedCourse = {\n            ...c,\n            facultyId: facultyId,\n            faculty: faculty // Store full faculty object\n          };\n          console.log('Updated course:', updatedCourse);\n          return updatedCourse;\n        }\n        return c;\n      }));\n\n      // Add to history\n      setMappingHistory(prev => [...prev, {\n        type: 'map',\n        course: course.code,\n        faculty: faculty.name,\n        timestamp: new Date().toISOString()\n      }]);\n\n      if (showNotification) {\n        setSuccess(`Course ${course.code} mapped to ${faculty.name} successfully!`);\n      }\n      \n    } catch (err) {\n      console.error('Mapping error:', err);\n      setError('Failed to map course: ' + (err.message || 'Unknown error'));\n      throw err;\n    }\n  };\n\n  // FIXED: Enhanced unmapping function\n  const handleUnmapCourse = async (course) => {\n    try {\n      const courseId = course.id || course._id;\n      console.log('Unmapping course:', course.code, 'ID:', courseId);\n\n      // Call backend API if provided\n      if (onUnmapCourseFromFaculty) {\n        await onUnmapCourseFromFaculty(courseId);\n      }\n\n      // Update local state\n      setLocalCourses(prev => prev.map(c => \n        (c.id === courseId || c._id === courseId) \n          ? { \n              ...c, \n              facultyId: null, \n              faculty: null \n            }\n          : c\n      ));\n\n      // Add to history\n      setMappingHistory(prev => [...prev, {\n        type: 'unmap',\n        course: course.code,\n        faculty: course.faculty?.name,\n        timestamp: new Date().toISOString()\n      }]);\n\n      setSuccess(`Course ${course.code} unmapped successfully!`);\n      \n    } catch (err) {\n      console.error('Unmapping error:', err);\n      setError('Failed to unmap course: ' + err.message);\n    }\n  };\n\n  // Statistics with better mapping detection\n  const stats = {\n    totalCourses: localCourses.length,\n    mappedCourses: localCourses.filter(c => c.facultyId || c.faculty).length,\n    unmappedCourses: localCourses.filter(c => !c.facultyId && !c.faculty).length,\n    totalFaculty: localFaculty.length,\n    facultyWithCourses: new Set(localCourses.filter(c => c.facultyId).map(c => c.facultyId)).size\n  };\n\n  // FIXED: Course Card with better mapping display\n  const CourseCard = ({ course }) => {\n    const mappedFaculty = getMappedFaculty(course);\n    const isMapped = Boolean(mappedFaculty);\n    \n    console.log('Course card render:', course.code, 'Mapped:', isMapped, 'Faculty:', mappedFaculty);\n\n    return (\n      <Card \n        elevation={2}\n        sx={{ \n          height: '100%',\n          border: '1px solid',\n          borderColor: isMapped ? 'success.light' : 'grey.300',\n          transition: 'all 0.3s ease',\n          '&:hover': {\n            transform: 'translateY(-2px)',\n            boxShadow: 4\n          }\n        }}\n      >\n        <CardContent>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\n            <Box>\n              <Typography variant=\"h6\" color=\"primary\" sx={{ fontFamily: 'monospace', fontWeight: 'bold' }}>\n                {course.code}\n              </Typography>\n              <Typography variant=\"body1\" fontWeight=\"600\" sx={{ lineHeight: 1.2, mb: 1 }}>\n                {course.name}\n              </Typography>\n            </Box>\n            <Chip \n              label={course.courseType || 'Lecture'} \n              color={course.courseType === 'Lab' ? 'secondary' : 'primary'} \n              size=\"small\" \n            />\n          </Box>\n\n          <Box sx={{ mb: 2 }}>\n            <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n              üìö {course.credits || 0} Credits ‚Ä¢ üèõÔ∏è {course.department || 'N/A'}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              üë• Capacity: {course.enrolled || 0}/{course.max || 30} students\n            </Typography>\n          </Box>\n\n          {/* Faculty Mapping Section */}\n          <Box sx={{ \n            p: 2, \n            bgcolor: isMapped ? 'success.light' : 'warning.light',\n            borderRadius: 1,\n            mb: 2\n          }}>\n            {isMapped ? (\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                  <Avatar sx={{ width: 32, height: 32, bgcolor: 'primary.main' }}>\n                    {mappedFaculty.name?.charAt(0) || 'F'}\n                  </Avatar>\n                  <Box>\n                    <Typography variant=\"body2\" fontWeight=\"600\">\n                      {mappedFaculty.name}\n                    </Typography>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      {mappedFaculty.department}\n                    </Typography>\n                  </Box>\n                </Box>\n                <Tooltip title=\"Unmap Course\">\n                  <IconButton \n                    size=\"small\" \n                    color=\"error\"\n                    onClick={() => handleUnmapCourse(course)}\n                    disabled={loading}\n                  >\n                    <LinkOff fontSize=\"small\" />\n                  </IconButton>\n                </Tooltip>\n              </Box>\n            ) : (\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                <Typography variant=\"body2\" fontWeight=\"600\">\n                  Not Assigned\n                </Typography>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  startIcon={<Link />}\n                  onClick={() => handleMapCourse(course)}\n                  disabled={loading}\n                >\n                  Assign\n                </Button>\n              </Box>\n            )}\n          </Box>\n\n          {/* Bulk Selection Checkbox */}\n          {viewMode === 'unmapped' && !isMapped && (\n            <FormControlLabel\n              control={\n                <Switch\n                  size=\"small\"\n                  checked={bulkSelection.includes(course.id || course._id)}\n                  onChange={(e) => {\n                    if (e.target.checked) {\n                      setBulkSelection(prev => [...prev, course.id || course._id]);\n                    } else {\n                      setBulkSelection(prev => prev.filter(id => id !== (course.id || course._id)));\n                    }\n                  }}\n                />\n              }\n              label=\"Bulk Select\"\n            />\n          )}\n        </CardContent>\n      </Card>\n    );\n  };\n\n  // Rest of the component remains the same...\n  // [FacultyList, MappingDialog, and other components stay the same as in the previous working version]\n\n  return (\n    <Box sx={{ p: 3 }}>\n      {/* Header */}\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n        <Box>\n          <Typography variant=\"h4\" fontWeight=\"bold\" color=\"primary\" gutterBottom>\n            üîó Course-Faculty Mapping\n          </Typography>\n          <Typography variant=\"body1\" color=\"text.secondary\">\n            Map courses to faculty members and manage teaching assignments\n          </Typography>\n        </Box>\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <Button\n            variant=\"outlined\"\n            startIcon={<Download />}\n            onClick={() => {/* Export functionality */}}\n          >\n            Export\n          </Button>\n          <Button\n            variant=\"contained\"\n            startIcon={<Save />}\n            onClick={onSaveMappings}\n            disabled={loading}\n          >\n            Save All\n          </Button>\n        </Box>\n      </Box>\n\n      {/* Statistics with debug info */}\n      <Grid container spacing={3} sx={{ mb: 4 }}>\n        <Grid item xs={12} sm={6} md={2.4}>\n          <Card>\n            <CardContent sx={{ textAlign: 'center' }}>\n              <School sx={{ fontSize: 40, color: 'primary.main', mb: 1 }} />\n              <Typography variant=\"h4\" fontWeight=\"bold\">\n                {stats.totalCourses}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Total Courses\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} md={2.4}>\n          <Card>\n            <CardContent sx={{ textAlign: 'center' }}>\n              <CheckCircle sx={{ fontSize: 40, color: 'success.main', mb: 1 }} />\n              <Typography variant=\"h4\" fontWeight=\"bold\" color=\"success.main\">\n                {stats.mappedCourses}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Mapped Courses\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} md={2.4}>\n          <Card>\n            <CardContent sx={{ textAlign: 'center' }}>\n              <Warning sx={{ fontSize: 40, color: 'warning.main', mb: 1 }} />\n              <Typography variant=\"h4\" fontWeight=\"bold\" color=\"warning.main\">\n                {stats.unmappedCourses}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Unmapped Courses\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} md={2.4}>\n          <Card>\n            <CardContent sx={{ textAlign: 'center' }}>\n              <Group sx={{ fontSize: 40, color: 'info.main', mb: 1 }} />\n              <Typography variant=\"h4\" fontWeight=\"bold\">\n                {stats.totalFaculty}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Total Faculty\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} md={2.4}>\n          <Card>\n            <CardContent sx={{ textAlign: 'center' }}>\n              <Map sx={{ fontSize: 40, color: 'secondary.main', mb: 1 }} />\n              <Typography variant=\"h4\" fontWeight=\"bold\">\n                {stats.facultyWithCourses}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Active Faculty\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      {/* Debug Info */}\n      <Box sx={{ mb: 2, p: 2, bgcolor: 'grey.100', borderRadius: 1 }}>\n        <Typography variant=\"caption\" color=\"text.secondary\">\n          Debug: Total courses: {stats.totalCourses} | Mapped: {stats.mappedCourses} | Unmapped: {stats.unmappedCourses}\n        </Typography>\n      </Box>\n\n      {/* Controls and rest of the component... */}\n      {/* [Rest of the component remains the same] */}\n    </Box>\n  );\n};\n\nexport default CourseFacultyMappingTab;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,GAAG,EACHC,UAAU,EACVC,MAAM,EACNC,IAAI,EACJC,IAAI,EACJC,WAAW,EACXC,IAAI,EACJC,UAAU,EACVC,KAAK,EACLC,SAAS,EACTC,WAAW,EACXC,UAAU,EACVC,MAAM,EACNC,QAAQ,EACRC,MAAM,EACNC,WAAW,EACXC,aAAa,EACbC,aAAa,EACbC,KAAK,EACLC,SAAS,EACTC,SAAS,EACTC,cAAc,EACdC,SAAS,EACTC,QAAQ,EACRC,MAAM,EACNC,gBAAgB,EAChBC,KAAK,EACLC,QAAQ,EACRC,gBAAgB,EAChBC,OAAO,EACPC,IAAI,EACJC,GAAG,EACHC,MAAM,EACNC,IAAI,EACJC,QAAQ,EACRC,YAAY,EACZC,YAAY,EACZC,OAAO,EACPC,QAAQ,EACRC,GAAG,EACHC,KAAK,EACLC,cAAc,QACT,eAAe;AACtB,SACEC,GAAG,EACHC,OAAO,EACPC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,KAAK,EACLC,IAAI,EACJC,OAAO,EACPC,MAAM,EACNC,UAAU,EACVC,WAAW,EACXC,WAAW,EACXC,OAAO,EACPC,MAAM,EACNC,KAAK,EACLC,GAAG,EACHC,UAAU,EACVC,QAAQ,EACRC,MAAM,EACNC,KAAK,EACLC,IAAI,EACJC,MAAM,EACNC,YAAY,EACZC,SAAS,QACJ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7B,MAAMC,uBAAuB,GAAGA,CAAC;EAC/BC,OAAO,GAAG,EAAE;EACZC,OAAO,GAAG,EAAE;EACZC,oBAAoB;EACpBC,wBAAwB;EACxBC,gBAAgB;EAChBC,cAAc;EACdC,OAAO,GAAG;AACZ,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGhF,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACiF,YAAY,EAAEC,eAAe,CAAC,GAAGlF,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACmF,KAAK,EAAEC,QAAQ,CAAC,GAAGpF,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACqF,OAAO,EAAEC,UAAU,CAAC,GAAGtF,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACuF,QAAQ,EAAEC,WAAW,CAAC,GAAGxF,QAAQ,CAAC,UAAU,CAAC;EACpD,MAAM,CAACyF,UAAU,EAAEC,aAAa,CAAC,GAAG1F,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC2F,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG5F,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAAC6F,eAAe,EAAEC,kBAAkB,CAAC,GAAG9F,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAAC+F,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGhG,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAACiG,cAAc,EAAEC,iBAAiB,CAAC,GAAGlG,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACmG,eAAe,EAAEC,kBAAkB,CAAC,GAAGpG,QAAQ,CAAC,CAAC,CAAC;EACzD,MAAM,CAACqG,cAAc,EAAEC,iBAAiB,CAAC,GAAGtG,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACuG,aAAa,EAAEC,gBAAgB,CAAC,GAAGxG,QAAQ,CAAC,EAAE,CAAC;;EAEtD;EACAC,SAAS,CAAC,MAAM;IACdwG,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEnC,OAAO,CAAC;IAC3CkC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAElC,OAAO,CAAC;IAE3C,IAAID,OAAO,IAAIA,OAAO,CAACoC,MAAM,GAAG,CAAC,EAAE;MACjC3B,eAAe,CAACT,OAAO,CAACqC,GAAG,CAACC,MAAM;QAAA,IAAAC,eAAA,EAAAC,gBAAA;QAAA,OAAK;UACrC,GAAGF,MAAM;UACT;UACAG,SAAS,EAAEH,MAAM,CAACG,SAAS,MAAAF,eAAA,GAAID,MAAM,CAACrC,OAAO,cAAAsC,eAAA,uBAAdA,eAAA,CAAgBG,GAAG,OAAAF,gBAAA,GAAIF,MAAM,CAACrC,OAAO,cAAAuC,gBAAA,uBAAdA,gBAAA,CAAgBG,EAAE,KAAI,IAAI;UAChF1C,OAAO,EAAEqC,MAAM,CAACrC,OAAO,IAAI;QAC7B,CAAC;MAAA,CAAC,CAAC,CAAC;IACN;IACA,IAAIA,OAAO,IAAIA,OAAO,CAACmC,MAAM,GAAG,CAAC,EAAE;MACjCzB,eAAe,CAACV,OAAO,CAAC;IAC1B;EACF,CAAC,EAAE,CAACD,OAAO,EAAEC,OAAO,CAAC,CAAC;;EAEtB;EACA,MAAM2C,WAAW,GAAG,CAAC,GAAG,IAAIC,GAAG,CAAC,CAC9B,GAAGrC,YAAY,CAAC6B,GAAG,CAACC,MAAM,IAAIA,MAAM,CAACQ,UAAU,CAAC,EAChD,GAAGpC,YAAY,CAAC2B,GAAG,CAACU,CAAC,IAAIA,CAAC,CAACD,UAAU,CAAC,CACvC,CAAC,CAAC,CAACE,MAAM,CAACC,OAAO,CAAC;;EAEnB;EACA,MAAMC,eAAe,GAAG1C,YAAY,CAACwC,MAAM,CAACV,MAAM,IAAI;IAAA,IAAAa,YAAA,EAAAC,YAAA;IACpD,IAAI,CAACd,MAAM,EAAE,OAAO,KAAK;IAEzB,MAAMe,aAAa,GAAG,EAAAF,YAAA,GAAAb,MAAM,CAACgB,IAAI,cAAAH,YAAA,uBAAXA,YAAA,CAAaI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACtC,UAAU,CAACqC,WAAW,CAAC,CAAC,CAAC,OAAAH,YAAA,GAC9Dd,MAAM,CAACmB,IAAI,cAAAL,YAAA,uBAAXA,YAAA,CAAaG,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACtC,UAAU,CAACqC,WAAW,CAAC,CAAC,CAAC;IAClF,MAAMG,iBAAiB,GAAGtC,kBAAkB,KAAK,KAAK,IAAIkB,MAAM,CAACQ,UAAU,KAAK1B,kBAAkB;;IAElG;IACA,MAAMuC,QAAQ,GAAGV,OAAO,CAACX,MAAM,CAACG,SAAS,IAAIH,MAAM,CAACrC,OAAO,CAAC;IAE5D,QAAQe,QAAQ;MACd,KAAK,UAAU;QACb,OAAOqC,aAAa,IAAIK,iBAAiB,IAAI,CAACC,QAAQ;MACxD,KAAK,QAAQ;QACX,OAAON,aAAa,IAAIK,iBAAiB,IAAIC,QAAQ;MACvD,KAAK,KAAK;MACV;QACE,OAAON,aAAa,IAAIK,iBAAiB;IAC7C;EACF,CAAC,CAAC;;EAEF;EACA,MAAME,sBAAsB,GAAId,UAAU,IAAK;IAC7C,OAAOpC,YAAY,CAACsC,MAAM,CAACD,CAAC,IAAIA,CAAC,CAACD,UAAU,KAAKA,UAAU,CAAC;EAC9D,CAAC;;EAED;EACA,MAAMe,gBAAgB,GAAIvB,MAAM,IAAK;IACnC,IAAI,CAACA,MAAM,CAACG,SAAS,IAAI,CAACH,MAAM,CAACrC,OAAO,EAAE,OAAO,IAAI;;IAErD;IACA,IAAIqC,MAAM,CAACG,SAAS,EAAE;MACpB,MAAMqB,WAAW,GAAGpD,YAAY,CAACqD,IAAI,CAAChB,CAAC,IACrCA,CAAC,CAACJ,EAAE,KAAKL,MAAM,CAACG,SAAS,IAAIM,CAAC,CAACL,GAAG,KAAKJ,MAAM,CAACG,SAChD,CAAC;MACD,IAAIqB,WAAW,EAAE,OAAOA,WAAW;IACrC;;IAEA;IACA,IAAIxB,MAAM,CAACrC,OAAO,EAAE;MAClB,OAAOqC,MAAM,CAACrC,OAAO;IACvB;IAEA,OAAO,IAAI;EACb,CAAC;;EAED;EACA,MAAM+D,eAAe,GAAI1B,MAAM,IAAK;IAClCX,iBAAiB,CAACW,MAAM,CAAC;IACzBb,oBAAoB,CAAC,IAAI,CAAC;EAC5B,CAAC;;EAED;EACA,MAAMwC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnCpC,kBAAkB,CAAC,CAAC,CAAC;IAErB,IAAI;MACF,MAAMqC,eAAe,GAAG1D,YAAY,CAACwC,MAAM,CAACV,MAAM,IAChD,CAACA,MAAM,CAACG,SAAS,IAAI,CAACH,MAAM,CAACrC,OAC/B,CAAC;MAEDiC,OAAO,CAACC,GAAG,CAAC,oCAAoC,EAAE+B,eAAe,CAAC9B,MAAM,CAAC;MAEzE,IAAI+B,QAAQ,GAAG,CAAC;MAChB,IAAIC,YAAY,GAAG,CAAC;MAEpB,KAAK,MAAM9B,MAAM,IAAI4B,eAAe,EAAE;QACpC,MAAMG,eAAe,GAAGC,mBAAmB,CAAChC,MAAM,CAAC;QACnD,IAAI+B,eAAe,EAAE;UACnB,IAAI;YACF,MAAME,wBAAwB,CAACjC,MAAM,EAAE+B,eAAe,EAAE,KAAK,CAAC;YAC9DD,YAAY,EAAE;UAChB,CAAC,CAAC,OAAOI,GAAG,EAAE;YACZtC,OAAO,CAACtB,KAAK,CAAC,6BAA6B0B,MAAM,CAACmB,IAAI,GAAG,EAAEe,GAAG,CAAC;UACjE;QACF;QACAL,QAAQ,IAAI,CAAC;QACbtC,kBAAkB,CAAC4C,IAAI,CAACC,KAAK,CAAEP,QAAQ,GAAGD,eAAe,CAAC9B,MAAM,GAAI,GAAG,CAAC,CAAC;QACzE,MAAM,IAAIuC,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,EAAE,CAAC,CAAC;MACvD;MAEA7D,UAAU,CAAC,eAAeqD,YAAY,WAAWF,eAAe,CAAC9B,MAAM,wBAAwB,CAAC;IAClG,CAAC,CAAC,OAAOoC,GAAG,EAAE;MACZ3D,QAAQ,CAAC,8BAA8B,GAAG2D,GAAG,CAACM,OAAO,CAAC;IACxD,CAAC,SAAS;MACRjD,kBAAkB,CAAC,CAAC,CAAC;IACvB;EACF,CAAC;;EAED;EACA,MAAMyC,mBAAmB,GAAIhC,MAAM,IAAK;IACtC,IAAI,CAACA,MAAM,CAACQ,UAAU,EAAE;MACtBZ,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEG,MAAM,CAACmB,IAAI,CAAC;MACrD,OAAO,IAAI;IACb;;IAEA;IACA,MAAMsB,iBAAiB,GAAGnB,sBAAsB,CAACtB,MAAM,CAACQ,UAAU,CAAC;IAEnE,IAAIiC,iBAAiB,CAAC3C,MAAM,KAAK,CAAC,EAAE;MAClCF,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEG,MAAM,CAACQ,UAAU,CAAC;MACjE,OAAO,IAAI;IACb;;IAEA;IACA,MAAMkC,WAAW,GAAG,CAAC,CAAC;IACtBxE,YAAY,CAACyE,OAAO,CAACC,CAAC,IAAI;MACxB,IAAIA,CAAC,CAACzC,SAAS,EAAE;QACf,MAAMA,SAAS,GAAGyC,CAAC,CAACzC,SAAS;QAC7BuC,WAAW,CAACvC,SAAS,CAAC,GAAG,CAACuC,WAAW,CAACvC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;MAC5D;IACF,CAAC,CAAC;;IAEF;IACA,MAAM4B,eAAe,GAAGU,iBAAiB,CACtC/B,MAAM,CAACD,CAAC,IAAI;MACX,MAAMN,SAAS,GAAGM,CAAC,CAACJ,EAAE,IAAII,CAAC,CAACL,GAAG;MAC/B,OAAO,CAACsC,WAAW,CAACvC,SAAS,CAAC,IAAIuC,WAAW,CAACvC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;IAChE,CAAC,CAAC,CACD0C,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;MACd,MAAMC,GAAG,GAAGF,CAAC,CAACzC,EAAE,IAAIyC,CAAC,CAAC1C,GAAG;MACzB,MAAM6C,GAAG,GAAGF,CAAC,CAAC1C,EAAE,IAAI0C,CAAC,CAAC3C,GAAG;MACzB,OAAO,CAACsC,WAAW,CAACM,GAAG,CAAC,IAAI,CAAC,KAAKN,WAAW,CAACO,GAAG,CAAC,IAAI,CAAC,CAAC;IAC1D,CAAC,CAAC,CAAC,CAAC,CAAC;IAEP,IAAI,CAAClB,eAAe,EAAE;MACpBnC,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEG,MAAM,CAACmB,IAAI,CAAC;MACjE,OAAOsB,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/B;IAEA,OAAOV,eAAe;EACxB,CAAC;;EAED;EACA,MAAME,wBAAwB,GAAG,MAAAA,CAAOjC,MAAM,EAAErC,OAAO,EAAEuF,gBAAgB,GAAG,IAAI,KAAK;IACnF,IAAI;MACF,MAAM/C,SAAS,GAAGxC,OAAO,CAAC0C,EAAE,IAAI1C,OAAO,CAACyC,GAAG;MAC3C,MAAM+C,QAAQ,GAAGnD,MAAM,CAACK,EAAE,IAAIL,MAAM,CAACI,GAAG;MAExCR,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEG,MAAM,CAACmB,IAAI,EAAE,aAAa,EAAExD,OAAO,CAACqD,IAAI,EAAE,KAAK,EAAEb,SAAS,CAAC;MAE1F,MAAMiD,WAAW,GAAG;QAClBD,QAAQ,EAAEA,QAAQ;QAClBhD,SAAS,EAAEA,SAAS;QACpBkD,UAAU,EAAErD,MAAM,CAACmB,IAAI;QACvBmC,WAAW,EAAE3F,OAAO,CAACqD,IAAI;QACzBR,UAAU,EAAER,MAAM,CAACQ;MACrB,CAAC;;MAED;MACA,IAAI5C,oBAAoB,EAAE;QACxBgC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;QAC7C,MAAMjC,oBAAoB,CAACwF,WAAW,CAAC;MACzC;;MAEA;MACAjF,eAAe,CAACoF,IAAI,IAAIA,IAAI,CAACxD,GAAG,CAAC6C,CAAC,IAAI;QACpC,IAAIA,CAAC,CAACvC,EAAE,KAAK8C,QAAQ,IAAIP,CAAC,CAACxC,GAAG,KAAK+C,QAAQ,EAAE;UAC3C,MAAMK,aAAa,GAAG;YACpB,GAAGZ,CAAC;YACJzC,SAAS,EAAEA,SAAS;YACpBxC,OAAO,EAAEA,OAAO,CAAC;UACnB,CAAC;UACDiC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE2D,aAAa,CAAC;UAC7C,OAAOA,aAAa;QACtB;QACA,OAAOZ,CAAC;MACV,CAAC,CAAC,CAAC;;MAEH;MACAnD,iBAAiB,CAAC8D,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;QAClCE,IAAI,EAAE,KAAK;QACXzD,MAAM,EAAEA,MAAM,CAACmB,IAAI;QACnBxD,OAAO,EAAEA,OAAO,CAACqD,IAAI;QACrB0C,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MACpC,CAAC,CAAC,CAAC;MAEH,IAAIV,gBAAgB,EAAE;QACpBzE,UAAU,CAAC,UAAUuB,MAAM,CAACmB,IAAI,cAAcxD,OAAO,CAACqD,IAAI,gBAAgB,CAAC;MAC7E;IAEF,CAAC,CAAC,OAAOkB,GAAG,EAAE;MACZtC,OAAO,CAACtB,KAAK,CAAC,gBAAgB,EAAE4D,GAAG,CAAC;MACpC3D,QAAQ,CAAC,wBAAwB,IAAI2D,GAAG,CAACM,OAAO,IAAI,eAAe,CAAC,CAAC;MACrE,MAAMN,GAAG;IACX;EACF,CAAC;;EAED;EACA,MAAM2B,iBAAiB,GAAG,MAAO7D,MAAM,IAAK;IAC1C,IAAI;MACF,MAAMmD,QAAQ,GAAGnD,MAAM,CAACK,EAAE,IAAIL,MAAM,CAACI,GAAG;MACxCR,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEG,MAAM,CAACmB,IAAI,EAAE,KAAK,EAAEgC,QAAQ,CAAC;;MAE9D;MACA,IAAItF,wBAAwB,EAAE;QAC5B,MAAMA,wBAAwB,CAACsF,QAAQ,CAAC;MAC1C;;MAEA;MACAhF,eAAe,CAACoF,IAAI,IAAIA,IAAI,CAACxD,GAAG,CAAC6C,CAAC,IAC/BA,CAAC,CAACvC,EAAE,KAAK8C,QAAQ,IAAIP,CAAC,CAACxC,GAAG,KAAK+C,QAAQ,GACpC;QACE,GAAGP,CAAC;QACJzC,SAAS,EAAE,IAAI;QACfxC,OAAO,EAAE;MACX,CAAC,GACDiF,CACN,CAAC,CAAC;;MAEF;MACAnD,iBAAiB,CAAC8D,IAAI;QAAA,IAAAO,gBAAA;QAAA,OAAI,CAAC,GAAGP,IAAI,EAAE;UAClCE,IAAI,EAAE,OAAO;UACbzD,MAAM,EAAEA,MAAM,CAACmB,IAAI;UACnBxD,OAAO,GAAAmG,gBAAA,GAAE9D,MAAM,CAACrC,OAAO,cAAAmG,gBAAA,uBAAdA,gBAAA,CAAgB9C,IAAI;UAC7B0C,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;QACpC,CAAC,CAAC;MAAA,EAAC;MAEHnF,UAAU,CAAC,UAAUuB,MAAM,CAACmB,IAAI,yBAAyB,CAAC;IAE5D,CAAC,CAAC,OAAOe,GAAG,EAAE;MACZtC,OAAO,CAACtB,KAAK,CAAC,kBAAkB,EAAE4D,GAAG,CAAC;MACtC3D,QAAQ,CAAC,0BAA0B,GAAG2D,GAAG,CAACM,OAAO,CAAC;IACpD;EACF,CAAC;;EAED;EACA,MAAMuB,KAAK,GAAG;IACZC,YAAY,EAAE9F,YAAY,CAAC4B,MAAM;IACjCmE,aAAa,EAAE/F,YAAY,CAACwC,MAAM,CAACkC,CAAC,IAAIA,CAAC,CAACzC,SAAS,IAAIyC,CAAC,CAACjF,OAAO,CAAC,CAACmC,MAAM;IACxE8B,eAAe,EAAE1D,YAAY,CAACwC,MAAM,CAACkC,CAAC,IAAI,CAACA,CAAC,CAACzC,SAAS,IAAI,CAACyC,CAAC,CAACjF,OAAO,CAAC,CAACmC,MAAM;IAC5EoE,YAAY,EAAE9F,YAAY,CAAC0B,MAAM;IACjCqE,kBAAkB,EAAE,IAAI5D,GAAG,CAACrC,YAAY,CAACwC,MAAM,CAACkC,CAAC,IAAIA,CAAC,CAACzC,SAAS,CAAC,CAACJ,GAAG,CAAC6C,CAAC,IAAIA,CAAC,CAACzC,SAAS,CAAC,CAAC,CAACiE;EAC3F,CAAC;;EAED;EACA,MAAMC,UAAU,GAAGA,CAAC;IAAErE;EAAO,CAAC,KAAK;IAAA,IAAAsE,mBAAA;IACjC,MAAMC,aAAa,GAAGhD,gBAAgB,CAACvB,MAAM,CAAC;IAC9C,MAAMqB,QAAQ,GAAGV,OAAO,CAAC4D,aAAa,CAAC;IAEvC3E,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEG,MAAM,CAACmB,IAAI,EAAE,SAAS,EAAEE,QAAQ,EAAE,UAAU,EAAEkD,aAAa,CAAC;IAE/F,oBACE/G,OAAA,CAAC/D,IAAI;MACH+K,SAAS,EAAE,CAAE;MACbC,EAAE,EAAE;QACFC,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE,WAAW;QACnBC,WAAW,EAAEvD,QAAQ,GAAG,eAAe,GAAG,UAAU;QACpDwD,UAAU,EAAE,eAAe;QAC3B,SAAS,EAAE;UACTC,SAAS,EAAE,kBAAkB;UAC7BC,SAAS,EAAE;QACb;MACF,CAAE;MAAAC,QAAA,eAEFxH,OAAA,CAAC9D,WAAW;QAAAsL,QAAA,gBACVxH,OAAA,CAACnE,GAAG;UAACoL,EAAE,EAAE;YAAEQ,OAAO,EAAE,MAAM;YAAEC,cAAc,EAAE,eAAe;YAAEC,UAAU,EAAE,YAAY;YAAEC,EAAE,EAAE;UAAE,CAAE;UAAAJ,QAAA,gBAC7FxH,OAAA,CAACnE,GAAG;YAAA2L,QAAA,gBACFxH,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,IAAI;cAACC,KAAK,EAAC,SAAS;cAACb,EAAE,EAAE;gBAAEc,UAAU,EAAE,WAAW;gBAAEC,UAAU,EAAE;cAAO,CAAE;cAAAR,QAAA,EAC1FhF,MAAM,CAACmB;YAAI;cAAAsE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC,eACbpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,OAAO;cAACG,UAAU,EAAC,KAAK;cAACf,EAAE,EAAE;gBAAEoB,UAAU,EAAE,GAAG;gBAAET,EAAE,EAAE;cAAE,CAAE;cAAAJ,QAAA,EACzEhF,MAAM,CAACgB;YAAI;cAAAyE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV,CAAC,eACNpI,OAAA,CAAC7D,IAAI;YACHmM,KAAK,EAAE9F,MAAM,CAAC+F,UAAU,IAAI,SAAU;YACtCT,KAAK,EAAEtF,MAAM,CAAC+F,UAAU,KAAK,KAAK,GAAG,WAAW,GAAG,SAAU;YAC7D3B,IAAI,EAAC;UAAO;YAAAqB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENpI,OAAA,CAACnE,GAAG;UAACoL,EAAE,EAAE;YAAEW,EAAE,EAAE;UAAE,CAAE;UAAAJ,QAAA,gBACjBxH,OAAA,CAAClE,UAAU;YAAC+L,OAAO,EAAC,OAAO;YAACC,KAAK,EAAC,gBAAgB;YAACU,YAAY;YAAAhB,QAAA,GAAC,eAC3D,EAAChF,MAAM,CAACiG,OAAO,IAAI,CAAC,EAAC,qCAAe,EAACjG,MAAM,CAACQ,UAAU,IAAI,KAAK;UAAA;YAAAiF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC,eACbpI,OAAA,CAAClE,UAAU;YAAC+L,OAAO,EAAC,OAAO;YAACC,KAAK,EAAC,gBAAgB;YAAAN,QAAA,GAAC,yBACpC,EAAChF,MAAM,CAACkG,QAAQ,IAAI,CAAC,EAAC,GAAC,EAAClG,MAAM,CAACmG,GAAG,IAAI,EAAE,EAAC,WACxD;UAAA;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC,eAGNpI,OAAA,CAACnE,GAAG;UAACoL,EAAE,EAAE;YACP2B,CAAC,EAAE,CAAC;YACJC,OAAO,EAAEhF,QAAQ,GAAG,eAAe,GAAG,eAAe;YACrDiF,YAAY,EAAE,CAAC;YACflB,EAAE,EAAE;UACN,CAAE;UAAAJ,QAAA,EACC3D,QAAQ,gBACP7D,OAAA,CAACnE,GAAG;YAACoL,EAAE,EAAE;cAAEQ,OAAO,EAAE,MAAM;cAAEE,UAAU,EAAE,QAAQ;cAAED,cAAc,EAAE;YAAgB,CAAE;YAAAF,QAAA,gBAClFxH,OAAA,CAACnE,GAAG;cAACoL,EAAE,EAAE;gBAAEQ,OAAO,EAAE,MAAM;gBAAEE,UAAU,EAAE,QAAQ;gBAAEoB,GAAG,EAAE;cAAE,CAAE;cAAAvB,QAAA,gBACzDxH,OAAA,CAACnC,MAAM;gBAACoJ,EAAE,EAAE;kBAAE+B,KAAK,EAAE,EAAE;kBAAE9B,MAAM,EAAE,EAAE;kBAAE2B,OAAO,EAAE;gBAAe,CAAE;gBAAArB,QAAA,EAC5D,EAAAV,mBAAA,GAAAC,aAAa,CAACvD,IAAI,cAAAsD,mBAAA,uBAAlBA,mBAAA,CAAoBmC,MAAM,CAAC,CAAC,CAAC,KAAI;cAAG;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/B,CAAC,eACTpI,OAAA,CAACnE,GAAG;gBAAA2L,QAAA,gBACFxH,OAAA,CAAClE,UAAU;kBAAC+L,OAAO,EAAC,OAAO;kBAACG,UAAU,EAAC,KAAK;kBAAAR,QAAA,EACzCT,aAAa,CAACvD;gBAAI;kBAAAyE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC,eACbpI,OAAA,CAAClE,UAAU;kBAAC+L,OAAO,EAAC,SAAS;kBAACC,KAAK,EAAC,gBAAgB;kBAAAN,QAAA,EACjDT,aAAa,CAAC/D;gBAAU;kBAAAiF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACf,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNpI,OAAA,CAACtC,OAAO;cAACwL,KAAK,EAAC,cAAc;cAAA1B,QAAA,eAC3BxH,OAAA,CAAC5D,UAAU;gBACTwK,IAAI,EAAC,OAAO;gBACZkB,KAAK,EAAC,OAAO;gBACbqB,OAAO,EAAEA,CAAA,KAAM9C,iBAAiB,CAAC7D,MAAM,CAAE;gBACzC4G,QAAQ,EAAE5I,OAAQ;gBAAAgH,QAAA,eAElBxH,OAAA,CAAClB,OAAO;kBAACuK,QAAQ,EAAC;gBAAO;kBAAApB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CAAC,gBAENpI,OAAA,CAACnE,GAAG;YAACoL,EAAE,EAAE;cAAEQ,OAAO,EAAE,MAAM;cAAEE,UAAU,EAAE,QAAQ;cAAED,cAAc,EAAE;YAAgB,CAAE;YAAAF,QAAA,gBAClFxH,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,OAAO;cAACG,UAAU,EAAC,KAAK;cAAAR,QAAA,EAAC;YAE7C;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbpI,OAAA,CAACjE,MAAM;cACL8L,OAAO,EAAC,UAAU;cAClBjB,IAAI,EAAC,OAAO;cACZ0C,SAAS,eAAEtJ,OAAA,CAACnB,IAAI;gBAAAoJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAE;cACpBe,OAAO,EAAEA,CAAA,KAAMjF,eAAe,CAAC1B,MAAM,CAAE;cACvC4G,QAAQ,EAAE5I,OAAQ;cAAAgH,QAAA,EACnB;YAED;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QACN;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,EAGLlH,QAAQ,KAAK,UAAU,IAAI,CAAC2C,QAAQ,iBACnC7D,OAAA,CAAC1C,gBAAgB;UACfiM,OAAO,eACLvJ,OAAA,CAAC3C,MAAM;YACLuJ,IAAI,EAAC,OAAO;YACZ4C,OAAO,EAAEtH,aAAa,CAACwB,QAAQ,CAAClB,MAAM,CAACK,EAAE,IAAIL,MAAM,CAACI,GAAG,CAAE;YACzD6G,QAAQ,EAAGC,CAAC,IAAK;cACf,IAAIA,CAAC,CAACC,MAAM,CAACH,OAAO,EAAE;gBACpBrH,gBAAgB,CAAC4D,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEvD,MAAM,CAACK,EAAE,IAAIL,MAAM,CAACI,GAAG,CAAC,CAAC;cAC9D,CAAC,MAAM;gBACLT,gBAAgB,CAAC4D,IAAI,IAAIA,IAAI,CAAC7C,MAAM,CAACL,EAAE,IAAIA,EAAE,MAAML,MAAM,CAACK,EAAE,IAAIL,MAAM,CAACI,GAAG,CAAC,CAAC,CAAC;cAC/E;YACF;UAAE;YAAAqF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACF;UACDE,KAAK,EAAC;QAAa;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpB,CACF;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACU;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC;EAEX,CAAC;;EAED;EACA;;EAEA,oBACEpI,OAAA,CAACnE,GAAG;IAACoL,EAAE,EAAE;MAAE2B,CAAC,EAAE;IAAE,CAAE;IAAApB,QAAA,gBAEhBxH,OAAA,CAACnE,GAAG;MAACoL,EAAE,EAAE;QAAEQ,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE,QAAQ;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAJ,QAAA,gBACzFxH,OAAA,CAACnE,GAAG;QAAA2L,QAAA,gBACFxH,OAAA,CAAClE,UAAU;UAAC+L,OAAO,EAAC,IAAI;UAACG,UAAU,EAAC,MAAM;UAACF,KAAK,EAAC,SAAS;UAACU,YAAY;UAAAhB,QAAA,EAAC;QAExE;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,eACbpI,OAAA,CAAClE,UAAU;UAAC+L,OAAO,EAAC,OAAO;UAACC,KAAK,EAAC,gBAAgB;UAAAN,QAAA,EAAC;QAEnD;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACNpI,OAAA,CAACnE,GAAG;QAACoL,EAAE,EAAE;UAAEQ,OAAO,EAAE,MAAM;UAAEsB,GAAG,EAAE;QAAE,CAAE;QAAAvB,QAAA,gBACnCxH,OAAA,CAACjE,MAAM;UACL8L,OAAO,EAAC,UAAU;UAClByB,SAAS,eAAEtJ,OAAA,CAACR,QAAQ;YAAAyI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAE;UACxBe,OAAO,EAAEA,CAAA,KAAM,CAAC,2BAA4B;UAAA3B,QAAA,EAC7C;QAED;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpI,OAAA,CAACjE,MAAM;UACL8L,OAAO,EAAC,WAAW;UACnByB,SAAS,eAAEtJ,OAAA,CAACL,IAAI;YAAAsI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAE;UACpBe,OAAO,EAAE5I,cAAe;UACxB6I,QAAQ,EAAE5I,OAAQ;UAAAgH,QAAA,EACnB;QAED;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNpI,OAAA,CAAChE,IAAI;MAAC4N,SAAS;MAACC,OAAO,EAAE,CAAE;MAAC5C,EAAE,EAAE;QAAEW,EAAE,EAAE;MAAE,CAAE;MAAAJ,QAAA,gBACxCxH,OAAA,CAAChE,IAAI;QAAC8N,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,GAAI;QAAAzC,QAAA,eAChCxH,OAAA,CAAC/D,IAAI;UAAAuL,QAAA,eACHxH,OAAA,CAAC9D,WAAW;YAAC+K,EAAE,EAAE;cAAEiD,SAAS,EAAE;YAAS,CAAE;YAAA1C,QAAA,gBACvCxH,OAAA,CAACZ,MAAM;cAAC6H,EAAE,EAAE;gBAAEoC,QAAQ,EAAE,EAAE;gBAAEvB,KAAK,EAAE,cAAc;gBAAEF,EAAE,EAAE;cAAE;YAAE;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC9DpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,IAAI;cAACG,UAAU,EAAC,MAAM;cAAAR,QAAA,EACvCjB,KAAK,CAACC;YAAY;cAAAyB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,eACbpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,OAAO;cAACC,KAAK,EAAC,gBAAgB;cAAAN,QAAA,EAAC;YAEnD;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACPpI,OAAA,CAAChE,IAAI;QAAC8N,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,GAAI;QAAAzC,QAAA,eAChCxH,OAAA,CAAC/D,IAAI;UAAAuL,QAAA,eACHxH,OAAA,CAAC9D,WAAW;YAAC+K,EAAE,EAAE;cAAEiD,SAAS,EAAE;YAAS,CAAE;YAAA1C,QAAA,gBACvCxH,OAAA,CAACd,WAAW;cAAC+H,EAAE,EAAE;gBAAEoC,QAAQ,EAAE,EAAE;gBAAEvB,KAAK,EAAE,cAAc;gBAAEF,EAAE,EAAE;cAAE;YAAE;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACnEpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,IAAI;cAACG,UAAU,EAAC,MAAM;cAACF,KAAK,EAAC,cAAc;cAAAN,QAAA,EAC5DjB,KAAK,CAACE;YAAa;cAAAwB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC,eACbpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,OAAO;cAACC,KAAK,EAAC,gBAAgB;cAAAN,QAAA,EAAC;YAEnD;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACPpI,OAAA,CAAChE,IAAI;QAAC8N,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,GAAI;QAAAzC,QAAA,eAChCxH,OAAA,CAAC/D,IAAI;UAAAuL,QAAA,eACHxH,OAAA,CAAC9D,WAAW;YAAC+K,EAAE,EAAE;cAAEiD,SAAS,EAAE;YAAS,CAAE;YAAA1C,QAAA,gBACvCxH,OAAA,CAACb,OAAO;cAAC8H,EAAE,EAAE;gBAAEoC,QAAQ,EAAE,EAAE;gBAAEvB,KAAK,EAAE,cAAc;gBAAEF,EAAE,EAAE;cAAE;YAAE;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC/DpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,IAAI;cAACG,UAAU,EAAC,MAAM;cAACF,KAAK,EAAC,cAAc;cAAAN,QAAA,EAC5DjB,KAAK,CAACnC;YAAe;cAAA6D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ,CAAC,eACbpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,OAAO;cAACC,KAAK,EAAC,gBAAgB;cAAAN,QAAA,EAAC;YAEnD;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACPpI,OAAA,CAAChE,IAAI;QAAC8N,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,GAAI;QAAAzC,QAAA,eAChCxH,OAAA,CAAC/D,IAAI;UAAAuL,QAAA,eACHxH,OAAA,CAAC9D,WAAW;YAAC+K,EAAE,EAAE;cAAEiD,SAAS,EAAE;YAAS,CAAE;YAAA1C,QAAA,gBACvCxH,OAAA,CAACX,KAAK;cAAC4H,EAAE,EAAE;gBAAEoC,QAAQ,EAAE,EAAE;gBAAEvB,KAAK,EAAE,WAAW;gBAAEF,EAAE,EAAE;cAAE;YAAE;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC1DpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,IAAI;cAACG,UAAU,EAAC,MAAM;cAAAR,QAAA,EACvCjB,KAAK,CAACG;YAAY;cAAAuB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,eACbpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,OAAO;cAACC,KAAK,EAAC,gBAAgB;cAAAN,QAAA,EAAC;YAEnD;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACPpI,OAAA,CAAChE,IAAI;QAAC8N,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,GAAI;QAAAzC,QAAA,eAChCxH,OAAA,CAAC/D,IAAI;UAAAuL,QAAA,eACHxH,OAAA,CAAC9D,WAAW;YAAC+K,EAAE,EAAE;cAAEiD,SAAS,EAAE;YAAS,CAAE;YAAA1C,QAAA,gBACvCxH,OAAA,CAACV,GAAG;cAAC2H,EAAE,EAAE;gBAAEoC,QAAQ,EAAE,EAAE;gBAAEvB,KAAK,EAAE,gBAAgB;gBAAEF,EAAE,EAAE;cAAE;YAAE;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC7DpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,IAAI;cAACG,UAAU,EAAC,MAAM;cAAAR,QAAA,EACvCjB,KAAK,CAACI;YAAkB;cAAAsB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACf,CAAC,eACbpI,OAAA,CAAClE,UAAU;cAAC+L,OAAO,EAAC,OAAO;cAACC,KAAK,EAAC,gBAAgB;cAAAN,QAAA,EAAC;YAEnD;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGPpI,OAAA,CAACnE,GAAG;MAACoL,EAAE,EAAE;QAAEW,EAAE,EAAE,CAAC;QAAEgB,CAAC,EAAE,CAAC;QAAEC,OAAO,EAAE,UAAU;QAAEC,YAAY,EAAE;MAAE,CAAE;MAAAtB,QAAA,eAC7DxH,OAAA,CAAClE,UAAU;QAAC+L,OAAO,EAAC,SAAS;QAACC,KAAK,EAAC,gBAAgB;QAAAN,QAAA,GAAC,wBAC7B,EAACjB,KAAK,CAACC,YAAY,EAAC,aAAW,EAACD,KAAK,CAACE,aAAa,EAAC,eAAa,EAACF,KAAK,CAACnC,eAAe;MAAA;QAAA6D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAIH,CAAC;AAEV,CAAC;AAAC3H,EAAA,CAvgBIR,uBAAuB;AAAAkK,EAAA,GAAvBlK,uBAAuB;AAygB7B,eAAeA,uBAAuB;AAAC,IAAAkK,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}