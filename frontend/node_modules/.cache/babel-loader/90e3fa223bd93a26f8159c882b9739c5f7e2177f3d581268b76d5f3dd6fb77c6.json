{"ast":null,"code":"var _jsxFileName = \"/Volumes/Macbook-1/GITAM/5th_sem/WADSF/project/Mini project/smart-classroom/frontend/src/pages/FacultyPortal.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Container, Typography, Paper, Grid, Card, CardContent, Button, Tabs, Tab, Box, Dialog, DialogTitle, DialogContent, DialogActions, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Chip, FormControl, Select, MenuItem, List, ListItem, ListItemText, ListItemIcon, LinearProgress, Alert, Snackbar, AppBar, Toolbar, IconButton, TextField, Avatar, Divider, InputLabel, OutlinedInput, InputAdornment, CircularProgress } from '@mui/material';\nimport { QrCode2, Face, Groups, Schedule, Analytics, Refresh, Download, Print, CameraAlt, Stop, PlayArrow, CheckCircle, Logout, AccountCircle, Edit, Save, Cancel, Email, Phone, LocationOn, Person } from '@mui/icons-material';\nimport { QRCodeSVG } from 'qrcode.react';\n\n// Enhanced API Service with better course handling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiService = {\n  baseUrl: process.env.REACT_APP_API_URL || 'http://localhost:5001/api',\n  async request(endpoint, options = {}) {\n    const token = localStorage.getItem('token') || localStorage.getItem('accessToken');\n    console.log('Making request to:', `${this.baseUrl}${endpoint}`);\n    console.log('Using token:', token ? 'Yes' : 'No');\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      ...options\n    };\n    if (config.body && typeof config.body === 'object') {\n      config.body = JSON.stringify(config.body);\n    }\n    try {\n      const response = await fetch(`${this.baseUrl}${endpoint}`, config);\n      console.log('Response status:', response.status);\n      if (response.status === 401) {\n        // Token expired or invalid\n        localStorage.removeItem('token');\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('user');\n        window.location.href = '/login';\n        throw new Error('Authentication failed');\n      }\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('API Response:', data);\n      return data;\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  },\n  // Faculty endpoints\n  async getFacultyProfile() {\n    return this.request('/faculty/profile');\n  },\n  async updateFacultyProfile(profileData) {\n    return this.request('/faculty/profile', {\n      method: 'PUT',\n      body: profileData\n    });\n  },\n  // Course endpoints - FIXED: Enhanced course fetching\n  async getFacultyCourses() {\n    try {\n      console.log('Fetching faculty courses...');\n      const response = await this.request('/faculty/courses');\n\n      // Handle different response formats\n      let courses = [];\n      if (Array.isArray(response)) {\n        courses = response;\n      } else if (response && Array.isArray(response.courses)) {\n        courses = response.courses;\n      } else if (response && Array.isArray(response.data)) {\n        courses = response.data;\n      } else if (response && response.courses) {\n        courses = [response.courses].flat();\n      } else if (response && response.data) {\n        courses = [response.data].flat();\n      } else {\n        console.warn('Unexpected courses response format:', response);\n        courses = [];\n      }\n      console.log('Processed courses:', courses);\n      return courses;\n    } catch (error) {\n      console.error('Error in getFacultyCourses:', error);\n      throw error;\n    }\n  },\n  async getCourseStudents(courseId) {\n    try {\n      return await this.request(`/courses/${courseId}/students`);\n    } catch (error) {\n      console.error(`Error fetching students for course ${courseId}:`, error);\n      return [];\n    }\n  },\n  // Attendance endpoints\n  async startAttendanceSession(sessionData) {\n    return this.request('/attendance/sessions', {\n      method: 'POST',\n      body: sessionData\n    });\n  },\n  async markAttendance(attendanceData) {\n    return this.request('/attendance/mark', {\n      method: 'POST',\n      body: attendanceData\n    });\n  },\n  async getAttendanceReports(courseId, date) {\n    const params = new URLSearchParams();\n    if (courseId) params.append('courseId', courseId);\n    if (date) params.append('date', date);\n    return this.request(`/attendance/reports?${params}`);\n  },\n  // Schedule endpoints\n  async getFacultySchedule() {\n    try {\n      return await this.request('/faculty/schedule');\n    } catch (error) {\n      console.error('Error fetching schedule:', error);\n      return {\n        schedule: []\n      };\n    }\n  }\n};\n\n// Real Face Recognition Component\nconst RealFaceRecognition = ({\n  onAttendanceMarked,\n  isActive,\n  setSnackbar,\n  course\n}) => {\n  _s();\n  const [isScanning, setIsScanning] = useState(false);\n  const [detectedFaces, setDetectedFaces] = useState([]);\n  const videoRef = useRef(null);\n  const streamRef = useRef(null);\n  const startFaceRecognition = async () => {\n    try {\n      setIsScanning(true);\n      setDetectedFaces([]);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: 'user'\n        }\n      });\n      streamRef.current = stream;\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n\n      // Simulate face detection for demo\n      setTimeout(() => {\n        const sampleStudents = [{\n          student_id: 'S001',\n          name: 'Alice Johnson'\n        }, {\n          student_id: 'S002',\n          name: 'Bob Smith'\n        }];\n        sampleStudents.forEach((student, index) => {\n          setTimeout(() => {\n            setDetectedFaces(prev => [...prev, student]);\n            onAttendanceMarked(student.student_id, 'Present', 'Face Recognition', student.name);\n          }, index * 2000);\n        });\n      }, 1000);\n    } catch (error) {\n      console.error('Error accessing camera:', error);\n      setSnackbar({\n        open: true,\n        message: 'Cannot access camera. Please check permissions.',\n        severity: 'error'\n      });\n      setIsScanning(false);\n    }\n  };\n  const stopFaceRecognition = () => {\n    setIsScanning(false);\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n    }\n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n    }\n  };\n  useEffect(() => {\n    return () => {\n      stopFaceRecognition();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    sx: {\n      p: 3,\n      border: '1px solid #1976d2'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      color: \"primary\",\n      children: [/*#__PURE__*/_jsxDEV(CameraAlt, {\n        sx: {\n          mr: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), \"Face Recognition Attendance\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '100%',\n        height: 300,\n        border: '2px solid #1976d2',\n        borderRadius: 2,\n        overflow: 'hidden',\n        mx: 'auto',\n        my: 2,\n        backgroundColor: '#000',\n        position: 'relative'\n      },\n      children: isScanning ? /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        style: {\n          width: '100%',\n          height: '100%',\n          objectFit: 'cover'\n        },\n        playsInline: true,\n        muted: true,\n        autoPlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100%',\n          color: 'white'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          align: \"center\",\n          children: [\"Camera feed will appear here\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), \"when recognition starts\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        gap: 2,\n        justifyContent: 'center',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(PlayArrow, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 22\n        }, this),\n        onClick: startFaceRecognition,\n        disabled: isScanning,\n        color: \"primary\",\n        children: \"Start Recognition\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        startIcon: /*#__PURE__*/_jsxDEV(Stop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 22\n        }, this),\n        onClick: stopFaceRecognition,\n        disabled: !isScanning,\n        color: \"primary\",\n        children: \"Stop Recognition\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), detectedFaces.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        color: \"primary\",\n        children: [\"\\u2705 Detected Students (\", detectedFaces.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        dense: true,\n        children: detectedFaces.map((student, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              sx: {\n                width: 32,\n                height: 32,\n                bgcolor: 'primary.main'\n              },\n              children: /*#__PURE__*/_jsxDEV(Person, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: student.name,\n            secondary: `ID: ${student.student_id} - Marked Present`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(CheckCircle, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 17\n          }, this)]\n        }, `${student.student_id}-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this);\n};\n\n// QR Attendance Component\n_s(RealFaceRecognition, \"TR9iGNYDJXc+SOPOt34Fqc/9Wso=\");\n_c = RealFaceRecognition;\nconst QRAttendanceComponent = ({\n  qrCodeHash,\n  onRefresh,\n  onSimulateScan,\n  scannedCount,\n  isActive,\n  course,\n  sessionTimeLeft\n}) => {\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  const qrValue = qrCodeHash ? JSON.stringify({\n    type: 'attendance',\n    courseCode: (course === null || course === void 0 ? void 0 : course.courseCode) || (course === null || course === void 0 ? void 0 : course.course_code),\n    courseName: (course === null || course === void 0 ? void 0 : course.courseName) || (course === null || course === void 0 ? void 0 : course.course_name),\n    sessionId: qrCodeHash,\n    timestamp: new Date().toISOString()\n  }) : '';\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    sx: {\n      p: 3,\n      textAlign: 'center',\n      border: '1px solid #1976d2'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      color: \"primary\",\n      children: [/*#__PURE__*/_jsxDEV(QrCode2, {\n        sx: {\n          mr: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this), \"QR Code Attendance\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: 256,\n        height: 256,\n        mx: 'auto',\n        my: 3,\n        border: '2px solid #1976d2',\n        borderRadius: 2,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backgroundColor: '#ffffff',\n        p: 2\n      },\n      children: qrCodeHash ? /*#__PURE__*/_jsxDEV(QRCodeSVG, {\n        value: qrValue,\n        size: 200,\n        level: \"H\",\n        includeMargin: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        children: \"Generate QR Code to start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        gutterBottom: true,\n        children: \"Students should scan this QR code with their mobile devices\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        color: \"textSecondary\",\n        children: [\"Session: \", isActive ? 'Active' : 'Inactive', \" \\u2022 Scanned: \", scannedCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this), isActive && sessionTimeLeft && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        color: \"primary\",\n        display: \"block\",\n        sx: {\n          mt: 1,\n          fontWeight: 'bold'\n        },\n        children: [\"\\u23F0 Expires in: \", formatTime(sessionTimeLeft)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        gap: 2,\n        justifyContent: 'center',\n        flexWrap: 'wrap'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(Refresh, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 22\n        }, this),\n        onClick: onRefresh,\n        disabled: !isActive,\n        color: \"primary\",\n        children: \"Refresh QR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: onSimulateScan,\n        disabled: !isActive,\n        color: \"primary\",\n        children: \"Simulate Scan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 391,\n    columnNumber: 5\n  }, this);\n};\n\n// Faculty Profile Component\n_c2 = QRAttendanceComponent;\nconst FacultyProfile = ({\n  faculty,\n  onUpdateProfile,\n  setSnackbar\n}) => {\n  _s2();\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedProfile, setEditedProfile] = useState(faculty);\n  const [loading, setLoading] = useState(false);\n  const handleEdit = () => {\n    setIsEditing(true);\n    setEditedProfile({\n      ...faculty\n    });\n  };\n  const handleCancel = () => {\n    setIsEditing(false);\n    setEditedProfile(faculty);\n  };\n  const handleSave = async () => {\n    try {\n      setLoading(true);\n      await onUpdateProfile(editedProfile);\n      setIsEditing(false);\n      setSnackbar({\n        open: true,\n        message: 'Profile updated successfully!',\n        severity: 'success'\n      });\n    } catch (error) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to update profile.',\n        severity: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleChange = (field, value) => {\n    setEditedProfile(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    sx: {\n      p: 3,\n      border: '1px solid #1976d2'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        color: \"primary.main\",\n        children: \"Faculty Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 9\n      }, this), !isEditing ? /*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 30\n        }, this),\n        onClick: handleEdit,\n        variant: \"outlined\",\n        color: \"primary\",\n        children: \"Edit Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(Cancel, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 32\n          }, this),\n          onClick: handleCancel,\n          variant: \"outlined\",\n          color: \"secondary\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(Save, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 32\n          }, this),\n          onClick: handleSave,\n          variant: \"contained\",\n          color: \"primary\",\n          disabled: loading,\n          children: loading ? 'Saving...' : 'Save'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              width: 120,\n              height: 120,\n              mb: 2,\n              bgcolor: 'primary.main'\n            },\n            children: /*#__PURE__*/_jsxDEV(Person, {\n              sx: {\n                fontSize: 60\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: faculty === null || faculty === void 0 ? void 0 : faculty.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            children: faculty === null || faculty === void 0 ? void 0 : faculty.department\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Full Name\",\n              value: isEditing ? editedProfile.name : faculty === null || faculty === void 0 ? void 0 : faculty.name,\n              onChange: e => handleChange('name', e.target.value),\n              disabled: !isEditing,\n              InputProps: {\n                startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(Person, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 551,\n                    columnNumber: 80\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 47\n                }, this)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Employee ID\",\n              value: (faculty === null || faculty === void 0 ? void 0 : faculty.employeeId) || 'N/A',\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Email\",\n              value: isEditing ? editedProfile.email : faculty === null || faculty === void 0 ? void 0 : faculty.email,\n              onChange: e => handleChange('email', e.target.value),\n              disabled: !isEditing,\n              InputProps: {\n                startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(Email, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 564,\n                    columnNumber: 80\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 47\n                }, this)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Phone\",\n              value: isEditing ? editedProfile.phone : faculty === null || faculty === void 0 ? void 0 : faculty.phone,\n              onChange: e => handleChange('phone', e.target.value),\n              disabled: !isEditing,\n              InputProps: {\n                startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(Phone, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 574,\n                    columnNumber: 80\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 47\n                }, this)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Department\",\n              value: faculty === null || faculty === void 0 ? void 0 : faculty.department,\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 506,\n    columnNumber: 5\n  }, this);\n};\n_s2(FacultyProfile, \"ownvlwbuq8vaEZU20FNnkbS8PMg=\");\n_c3 = FacultyProfile;\nconst FacultyPortal = ({\n  user,\n  setUser\n}) => {\n  _s3();\n  const [activeTab, setActiveTab] = useState(0);\n  const [courses, setCourses] = useState([]);\n  const [attendanceDialog, setAttendanceDialog] = useState(false);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [qrCodeHash, setQrCodeHash] = useState('');\n  const [attendanceMethod, setAttendanceMethod] = useState('qr');\n  const [attendanceRecords, setAttendanceRecords] = useState({});\n  const [manualAttendance, setManualAttendance] = useState({});\n  const [scheduleData, setScheduleData] = useState([]);\n  const [reportsData, setReportsData] = useState({});\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  const [qrSessionActive, setQrSessionActive] = useState(false);\n  const [scannedCount, setScannedCount] = useState(0);\n  const [qrSessionTimer, setQrSessionTimer] = useState(300);\n  const [facultyProfile, setFacultyProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // Logout function\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('user');\n    setUser(null);\n    window.location.href = '/login';\n  };\n\n  // Enhanced data fetching\n  const fetchFacultyData = async () => {\n    try {\n      setLoading(true);\n      console.log('Starting to fetch faculty data...');\n\n      // Fetch profile\n      try {\n        const profileData = await apiService.getFacultyProfile();\n        setFacultyProfile(profileData);\n        console.log('Profile data:', profileData);\n      } catch (profileError) {\n        console.error('Error fetching profile:', profileError);\n      }\n\n      // Fetch courses\n      await fetchFacultyCourses();\n\n      // Fetch schedule\n      try {\n        const scheduleData = await apiService.getFacultySchedule();\n        setScheduleData(scheduleData.schedule || []);\n      } catch (scheduleError) {\n        console.error('Error fetching schedule:', scheduleError);\n      }\n    } catch (error) {\n      console.error('Failed to fetch faculty data:', error);\n      setSnackbar({\n        open: true,\n        message: 'Failed to load data. Please check your connection.',\n        severity: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fixed course fetching function\n  const fetchFacultyCourses = async () => {\n    try {\n      console.log('Fetching faculty courses...');\n      const coursesData = await apiService.getFacultyCourses();\n      console.log('Courses data received:', coursesData);\n      if (coursesData && coursesData.length > 0) {\n        setCourses(coursesData);\n\n        // Initialize attendance records\n        const initialRecords = {};\n        for (const course of coursesData) {\n          const courseId = course._id || course.id;\n          try {\n            const students = await apiService.getCourseStudents(courseId);\n            initialRecords[courseId] = Array.isArray(students) ? students.map(student => ({\n              id: student._id || student.id,\n              student_name: student.name || student.student_name,\n              student_id: student.studentId || student.student_id,\n              status: 'Absent',\n              time: '-',\n              method: '-'\n            })) : [];\n          } catch (error) {\n            console.warn(`Could not fetch students for course ${courseId}:`, error);\n            initialRecords[courseId] = [];\n          }\n        }\n        setAttendanceRecords(initialRecords);\n      } else {\n        setCourses([]);\n        console.log('No courses found for faculty');\n      }\n    } catch (error) {\n      console.error('Error fetching faculty courses:', error);\n      setCourses([]);\n      setSnackbar({\n        open: true,\n        message: 'Failed to load courses. Please try again.',\n        severity: 'error'\n      });\n    }\n  };\n  useEffect(() => {\n    fetchFacultyData();\n  }, []);\n  useEffect(() => {\n    let timer;\n    if (qrSessionActive && qrSessionTimer > 0) {\n      timer = setInterval(() => {\n        setQrSessionTimer(prev => prev - 1);\n      }, 1000);\n    } else if (qrSessionTimer === 0 && qrSessionActive) {\n      setQrSessionActive(false);\n      setSnackbar({\n        open: true,\n        message: 'QR session expired.',\n        severity: 'warning'\n      });\n    }\n    return () => clearInterval(timer);\n  }, [qrSessionActive, qrSessionTimer]);\n  const generateQRCode = async course => {\n    try {\n      const sessionData = {\n        courseId: course._id || course.id,\n        courseCode: course.courseCode || course.course_code,\n        duration: 300,\n        method: 'qr'\n      };\n      const result = await apiService.startAttendanceSession(sessionData);\n      const hash = result.sessionId || `QR_${Date.now()}`;\n      setQrCodeHash(hash);\n      setQrSessionActive(true);\n      setQrSessionTimer(300);\n      setScannedCount(0);\n      setSnackbar({\n        open: true,\n        message: 'QR Code generated!',\n        severity: 'success'\n      });\n      return hash;\n    } catch (error) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to generate QR code.',\n        severity: 'error'\n      });\n    }\n  };\n  const startAttendanceSession = async (course, method = 'qr') => {\n    setSelectedCourse(course);\n    setAttendanceMethod(method);\n    if (method === 'qr') {\n      await generateQRCode(course);\n    }\n    setAttendanceDialog(true);\n  };\n  const markAttendance = async (studentId, status = 'Present', method = 'Manual', studentName = '') => {\n    if (!selectedCourse) return;\n    try {\n      const attendanceData = {\n        studentId,\n        courseId: selectedCourse._id || selectedCourse.id,\n        status,\n        method,\n        timestamp: new Date().toISOString()\n      };\n      await apiService.markAttendance(attendanceData);\n      const time = new Date().toLocaleTimeString();\n      const courseId = selectedCourse._id || selectedCourse.id;\n      setAttendanceRecords(prev => {\n        var _prev$courseId;\n        return {\n          ...prev,\n          [courseId]: ((_prev$courseId = prev[courseId]) === null || _prev$courseId === void 0 ? void 0 : _prev$courseId.map(record => record.student_id === studentId ? {\n            ...record,\n            status,\n            time,\n            method\n          } : record)) || []\n        };\n      });\n      if (method === 'QR Code') {\n        setScannedCount(prev => prev + 1);\n      }\n    } catch (error) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to mark attendance.',\n        severity: 'error'\n      });\n    }\n  };\n  const simulateQRScan = () => {\n    if (!selectedCourse || !qrSessionActive) return;\n    const courseId = selectedCourse._id || selectedCourse.id;\n    const students = attendanceRecords[courseId] || [];\n    const absentStudents = students.filter(s => s.status === 'Absent');\n    if (absentStudents.length > 0) {\n      const randomStudent = absentStudents[Math.floor(Math.random() * absentStudents.length)];\n      markAttendance(randomStudent.student_id, 'Present', 'QR Code', randomStudent.student_name);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 816,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      sx: {\n        bgcolor: '#1976d2',\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          component: \"div\",\n          sx: {\n            flexGrow: 1\n          },\n          children: \"Faculty Portal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          sx: {\n            mr: 2\n          },\n          children: [\"Welcome, \", facultyProfile === null || facultyProfile === void 0 ? void 0 : facultyProfile.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 829,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          startIcon: /*#__PURE__*/_jsxDEV(Logout, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 46\n          }, this),\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 824,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          width: '100%',\n          mb: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: activeTab,\n          onChange: (e, newValue) => setActiveTab(newValue),\n          variant: \"scrollable\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(Schedule, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 24\n            }, this),\n            label: \"My Schedule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 841,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(Groups, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 24\n            }, this),\n            label: \"My Courses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 842,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(QrCode2, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 24\n            }, this),\n            label: \"Take Attendance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 843,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(Analytics, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 844,\n              columnNumber: 24\n            }, this),\n            label: \"Reports\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(AccountCircle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 845,\n              columnNumber: 24\n            }, this),\n            label: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 845,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 840,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 839,\n        columnNumber: 9\n      }, this), activeTab === 1 && /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            children: \"My Courses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 853,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            startIcon: /*#__PURE__*/_jsxDEV(Refresh, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 34\n            }, this),\n            onClick: fetchFacultyCourses,\n            variant: \"outlined\",\n            children: \"Refresh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 852,\n          columnNumber: 13\n        }, this), courses.length > 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: courses.map((course, index) => /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                height: '100%',\n                border: '1px solid #1976d2'\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  color: \"primary\",\n                  children: course.courseCode || course.course_code\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 865,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  sx: {\n                    fontWeight: 'bold',\n                    mb: 1\n                  },\n                  children: course.courseName || course.course_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 868,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"textSecondary\",\n                  children: [\"Department: \", course.department]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"textSecondary\",\n                  children: [\"Schedule: \", course.schedule || course.schedule_time]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 874,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"textSecondary\",\n                  children: [\"Room: \", course.room]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 877,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    mt: 2,\n                    display: 'flex',\n                    gap: 1,\n                    flexWrap: 'wrap'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    size: \"small\",\n                    onClick: () => startAttendanceSession(course, 'qr'),\n                    startIcon: /*#__PURE__*/_jsxDEV(QrCode2, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 886,\n                      columnNumber: 40\n                    }, this),\n                    children: \"QR Code\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 882,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outlined\",\n                    size: \"small\",\n                    onClick: () => startAttendanceSession(course, 'face'),\n                    startIcon: /*#__PURE__*/_jsxDEV(Face, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 894,\n                      columnNumber: 40\n                    }, this),\n                    children: \"Face Recognition\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 890,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 881,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 21\n            }, this)\n          }, course._id || course.id || index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 862,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 860,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 4,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"textSecondary\",\n            children: \"No Courses Assigned\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 906,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            sx: {\n              mt: 1\n            },\n            children: \"You haven't been assigned any courses yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 905,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 11\n      }, this), activeTab === 2 && /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          sx: {\n            mb: 3\n          },\n          children: \"Quick Attendance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 920,\n          columnNumber: 13\n        }, this), courses.length > 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: courses.map((course, index) => /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                textAlign: 'center',\n                p: 3\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  color: \"primary\",\n                  children: course.courseCode || course.course_code\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 929,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"textSecondary\",\n                  sx: {\n                    mb: 2\n                  },\n                  children: course.courseName || course.course_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 932,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    onClick: () => startAttendanceSession(course, 'qr'),\n                    startIcon: /*#__PURE__*/_jsxDEV(QrCode2, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 939,\n                      columnNumber: 40\n                    }, this),\n                    children: \"QR Attendance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 936,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outlined\",\n                    onClick: () => startAttendanceSession(course, 'face'),\n                    startIcon: /*#__PURE__*/_jsxDEV(Face, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 946,\n                      columnNumber: 40\n                    }, this),\n                    children: \"Face Recognition\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 943,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 935,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 928,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 927,\n              columnNumber: 21\n            }, this)\n          }, course._id || course.id || index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 926,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 924,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 4,\n            textAlign: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"textSecondary\",\n            children: \"No courses available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 958,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 957,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 919,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: attendanceDialog,\n        onClose: () => setAttendanceDialog(false),\n        maxWidth: \"md\",\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: [\"Take Attendance - \", (selectedCourse === null || selectedCourse === void 0 ? void 0 : selectedCourse.courseCode) || (selectedCourse === null || selectedCourse === void 0 ? void 0 : selectedCourse.course_code)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 968,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 3,\n              display: 'flex',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: attendanceMethod === 'qr' ? 'contained' : 'outlined',\n              onClick: () => setAttendanceMethod('qr'),\n              startIcon: /*#__PURE__*/_jsxDEV(QrCode2, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 976,\n                columnNumber: 28\n              }, this),\n              children: \"QR Code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 973,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: attendanceMethod === 'face' ? 'contained' : 'outlined',\n              onClick: () => setAttendanceMethod('face'),\n              startIcon: /*#__PURE__*/_jsxDEV(Face, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 983,\n                columnNumber: 28\n              }, this),\n              children: \"Face Recognition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 980,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 972,\n            columnNumber: 13\n          }, this), attendanceMethod === 'qr' && /*#__PURE__*/_jsxDEV(QRAttendanceComponent, {\n            qrCodeHash: qrCodeHash,\n            onRefresh: () => generateQRCode(selectedCourse),\n            onSimulateScan: simulateQRScan,\n            scannedCount: scannedCount,\n            isActive: qrSessionActive,\n            course: selectedCourse,\n            sessionTimeLeft: qrSessionTimer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 15\n          }, this), attendanceMethod === 'face' && /*#__PURE__*/_jsxDEV(RealFaceRecognition, {\n            onAttendanceMarked: markAttendance,\n            isActive: attendanceMethod === 'face',\n            setSnackbar: setSnackbar,\n            course: selectedCourse\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1002,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 971,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setAttendanceDialog(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1011,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1010,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 967,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: snackbar.open,\n        autoHideDuration: 4000,\n        onClose: () => setSnackbar({\n          ...snackbar,\n          open: false\n        }),\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: snackbar.severity,\n          children: snackbar.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1020,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1015,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 838,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 823,\n    columnNumber: 5\n  }, this);\n};\n_s3(FacultyPortal, \"xaZe6t8Z0naenrDWcrHMh9KyYyw=\");\n_c4 = FacultyPortal;\nexport default FacultyPortal;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"RealFaceRecognition\");\n$RefreshReg$(_c2, \"QRAttendanceComponent\");\n$RefreshReg$(_c3, \"FacultyProfile\");\n$RefreshReg$(_c4, \"FacultyPortal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Container","Typography","Paper","Grid","Card","CardContent","Button","Tabs","Tab","Box","Dialog","DialogTitle","DialogContent","DialogActions","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Chip","FormControl","Select","MenuItem","List","ListItem","ListItemText","ListItemIcon","LinearProgress","Alert","Snackbar","AppBar","Toolbar","IconButton","TextField","Avatar","Divider","InputLabel","OutlinedInput","InputAdornment","CircularProgress","QrCode2","Face","Groups","Schedule","Analytics","Refresh","Download","Print","CameraAlt","Stop","PlayArrow","CheckCircle","Logout","AccountCircle","Edit","Save","Cancel","Email","Phone","LocationOn","Person","QRCodeSVG","jsxDEV","_jsxDEV","apiService","baseUrl","process","env","REACT_APP_API_URL","request","endpoint","options","token","localStorage","getItem","console","log","config","headers","body","JSON","stringify","response","fetch","status","removeItem","window","location","href","Error","ok","data","json","error","getFacultyProfile","updateFacultyProfile","profileData","method","getFacultyCourses","courses","Array","isArray","flat","warn","getCourseStudents","courseId","startAttendanceSession","sessionData","markAttendance","attendanceData","getAttendanceReports","date","params","URLSearchParams","append","getFacultySchedule","schedule","RealFaceRecognition","onAttendanceMarked","isActive","setSnackbar","course","_s","isScanning","setIsScanning","detectedFaces","setDetectedFaces","videoRef","streamRef","startFaceRecognition","stream","navigator","mediaDevices","getUserMedia","video","facingMode","current","srcObject","setTimeout","sampleStudents","student_id","name","forEach","student","index","prev","open","message","severity","stopFaceRecognition","getTracks","track","stop","sx","p","border","children","variant","gutterBottom","color","mr","fileName","_jsxFileName","lineNumber","columnNumber","width","height","borderRadius","overflow","mx","my","backgroundColor","position","ref","style","objectFit","playsInline","muted","autoPlay","display","alignItems","justifyContent","align","gap","mb","startIcon","onClick","disabled","length","dense","map","bgcolor","primary","secondary","_c","QRAttendanceComponent","qrCodeHash","onRefresh","onSimulateScan","scannedCount","sessionTimeLeft","formatTime","seconds","mins","Math","floor","secs","toString","padStart","qrValue","type","courseCode","course_code","courseName","course_name","sessionId","timestamp","Date","toISOString","textAlign","value","size","level","includeMargin","mt","fontWeight","flexWrap","_c2","FacultyProfile","faculty","onUpdateProfile","_s2","isEditing","setIsEditing","editedProfile","setEditedProfile","loading","setLoading","handleEdit","handleCancel","handleSave","handleChange","field","container","spacing","item","xs","md","flexDirection","fontSize","department","sm","fullWidth","label","onChange","e","target","InputProps","startAdornment","employeeId","email","phone","_c3","FacultyPortal","user","setUser","_s3","activeTab","setActiveTab","setCourses","attendanceDialog","setAttendanceDialog","selectedCourse","setSelectedCourse","setQrCodeHash","attendanceMethod","setAttendanceMethod","attendanceRecords","setAttendanceRecords","manualAttendance","setManualAttendance","scheduleData","setScheduleData","reportsData","setReportsData","snackbar","qrSessionActive","setQrSessionActive","setScannedCount","qrSessionTimer","setQrSessionTimer","facultyProfile","setFacultyProfile","handleLogout","fetchFacultyData","profileError","fetchFacultyCourses","scheduleError","coursesData","initialRecords","_id","id","students","student_name","studentId","time","timer","setInterval","clearInterval","generateQRCode","duration","result","hash","now","studentName","toLocaleTimeString","_prev$courseId","record","simulateQRScan","absentStudents","filter","s","randomStudent","random","flexGrow","component","maxWidth","newValue","icon","schedule_time","room","onClose","autoHideDuration","_c4","$RefreshReg$"],"sources":["/Volumes/Macbook-1/GITAM/5th_sem/WADSF/project/Mini project/smart-classroom/frontend/src/pages/FacultyPortal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Container,\n  Typography,\n  Paper,\n  Grid,\n  Card,\n  CardContent,\n  Button,\n  Tabs,\n  Tab,\n  Box,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Chip,\n  FormControl,\n  Select,\n  MenuItem,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  LinearProgress,\n  Alert,\n  Snackbar,\n  AppBar,\n  Toolbar,\n  IconButton,\n  TextField,\n  Avatar,\n  Divider,\n  InputLabel,\n  OutlinedInput,\n  InputAdornment,\n  CircularProgress\n} from '@mui/material';\nimport { \n  QrCode2, \n  Face, \n  Groups, \n  Schedule, \n  Analytics, \n  Refresh,\n  Download,\n  Print,\n  CameraAlt,\n  Stop,\n  PlayArrow,\n  CheckCircle,\n  Logout,\n  AccountCircle,\n  Edit,\n  Save,\n  Cancel,\n  Email,\n  Phone,\n  LocationOn,\n  Person\n} from '@mui/icons-material';\nimport { QRCodeSVG } from 'qrcode.react';\n\n// Enhanced API Service with better course handling\nconst apiService = {\n  baseUrl: process.env.REACT_APP_API_URL || 'http://localhost:5001/api',\n\n  async request(endpoint, options = {}) {\n    const token = localStorage.getItem('token') || localStorage.getItem('accessToken');\n    console.log('Making request to:', `${this.baseUrl}${endpoint}`);\n    console.log('Using token:', token ? 'Yes' : 'No');\n    \n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      ...options,\n    };\n\n    if (config.body && typeof config.body === 'object') {\n      config.body = JSON.stringify(config.body);\n    }\n\n    try {\n      const response = await fetch(`${this.baseUrl}${endpoint}`, config);\n      console.log('Response status:', response.status);\n      \n      if (response.status === 401) {\n        // Token expired or invalid\n        localStorage.removeItem('token');\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('user');\n        window.location.href = '/login';\n        throw new Error('Authentication failed');\n      }\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      console.log('API Response:', data);\n      return data;\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  },\n\n  // Faculty endpoints\n  async getFacultyProfile() {\n    return this.request('/faculty/profile');\n  },\n\n  async updateFacultyProfile(profileData) {\n    return this.request('/faculty/profile', {\n      method: 'PUT',\n      body: profileData,\n    });\n  },\n\n  // Course endpoints - FIXED: Enhanced course fetching\n  async getFacultyCourses() {\n    try {\n      console.log('Fetching faculty courses...');\n      const response = await this.request('/faculty/courses');\n      \n      // Handle different response formats\n      let courses = [];\n      \n      if (Array.isArray(response)) {\n        courses = response;\n      } else if (response && Array.isArray(response.courses)) {\n        courses = response.courses;\n      } else if (response && Array.isArray(response.data)) {\n        courses = response.data;\n      } else if (response && response.courses) {\n        courses = [response.courses].flat();\n      } else if (response && response.data) {\n        courses = [response.data].flat();\n      } else {\n        console.warn('Unexpected courses response format:', response);\n        courses = [];\n      }\n      \n      console.log('Processed courses:', courses);\n      return courses;\n      \n    } catch (error) {\n      console.error('Error in getFacultyCourses:', error);\n      throw error;\n    }\n  },\n\n  async getCourseStudents(courseId) {\n    try {\n      return await this.request(`/courses/${courseId}/students`);\n    } catch (error) {\n      console.error(`Error fetching students for course ${courseId}:`, error);\n      return [];\n    }\n  },\n\n  // Attendance endpoints\n  async startAttendanceSession(sessionData) {\n    return this.request('/attendance/sessions', {\n      method: 'POST',\n      body: sessionData,\n    });\n  },\n\n  async markAttendance(attendanceData) {\n    return this.request('/attendance/mark', {\n      method: 'POST',\n      body: attendanceData,\n    });\n  },\n\n  async getAttendanceReports(courseId, date) {\n    const params = new URLSearchParams();\n    if (courseId) params.append('courseId', courseId);\n    if (date) params.append('date', date);\n    \n    return this.request(`/attendance/reports?${params}`);\n  },\n\n  // Schedule endpoints\n  async getFacultySchedule() {\n    try {\n      return await this.request('/faculty/schedule');\n    } catch (error) {\n      console.error('Error fetching schedule:', error);\n      return { schedule: [] };\n    }\n  },\n};\n\n// Real Face Recognition Component\nconst RealFaceRecognition = ({ onAttendanceMarked, isActive, setSnackbar, course }) => {\n  const [isScanning, setIsScanning] = useState(false);\n  const [detectedFaces, setDetectedFaces] = useState([]);\n  const videoRef = useRef(null);\n  const streamRef = useRef(null);\n\n  const startFaceRecognition = async () => {\n    try {\n      setIsScanning(true);\n      setDetectedFaces([]);\n\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        video: { facingMode: 'user' } \n      });\n      \n      streamRef.current = stream;\n      \n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n\n      // Simulate face detection for demo\n      setTimeout(() => {\n        const sampleStudents = [\n          { student_id: 'S001', name: 'Alice Johnson' },\n          { student_id: 'S002', name: 'Bob Smith' },\n        ];\n        \n        sampleStudents.forEach((student, index) => {\n          setTimeout(() => {\n            setDetectedFaces(prev => [...prev, student]);\n            onAttendanceMarked(student.student_id, 'Present', 'Face Recognition', student.name);\n          }, index * 2000);\n        });\n      }, 1000);\n\n    } catch (error) {\n      console.error('Error accessing camera:', error);\n      setSnackbar({\n        open: true,\n        message: 'Cannot access camera. Please check permissions.',\n        severity: 'error'\n      });\n      setIsScanning(false);\n    }\n  };\n\n  const stopFaceRecognition = () => {\n    setIsScanning(false);\n    \n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n    }\n    \n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      stopFaceRecognition();\n    };\n  }, []);\n\n  return (\n    <Paper sx={{ p: 3, border: '1px solid #1976d2' }}>\n      <Typography variant=\"h6\" gutterBottom color=\"primary\">\n        <CameraAlt sx={{ mr: 1 }} />\n        Face Recognition Attendance\n      </Typography>\n      \n      <Box sx={{ \n        width: '100%', \n        height: 300,\n        border: '2px solid #1976d2',\n        borderRadius: 2,\n        overflow: 'hidden',\n        mx: 'auto',\n        my: 2,\n        backgroundColor: '#000',\n        position: 'relative'\n      }}>\n        {isScanning ? (\n          <video\n            ref={videoRef}\n            style={{\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover'\n            }}\n            playsInline\n            muted\n            autoPlay\n          />\n        ) : (\n          <Box sx={{ \n            display: 'flex', \n            alignItems: 'center', \n            justifyContent: 'center', \n            height: '100%',\n            color: 'white'\n          }}>\n            <Typography variant=\"body1\" align=\"center\">\n              Camera feed will appear here\n              <br />\n              when recognition starts\n            </Typography>\n          </Box>\n        )}\n      </Box>\n\n      <Box sx={{ display: 'flex', gap: 2, justifyContent: 'center', mb: 3 }}>\n        <Button\n          variant=\"contained\"\n          startIcon={<PlayArrow />}\n          onClick={startFaceRecognition}\n          disabled={isScanning}\n          color=\"primary\"\n        >\n          Start Recognition\n        </Button>\n        <Button\n          variant=\"outlined\"\n          startIcon={<Stop />}\n          onClick={stopFaceRecognition}\n          disabled={!isScanning}\n          color=\"primary\"\n        >\n          Stop Recognition\n        </Button>\n      </Box>\n\n      {detectedFaces.length > 0 && (\n        <Box>\n          <Typography variant=\"subtitle1\" gutterBottom color=\"primary\">\n             Detected Students ({detectedFaces.length})\n          </Typography>\n          <List dense>\n            {detectedFaces.map((student, index) => (\n              <ListItem key={`${student.student_id}-${index}`}>\n                <ListItemIcon>\n                  <Avatar sx={{ width: 32, height: 32, bgcolor: 'primary.main' }}>\n                    <Person />\n                  </Avatar>\n                </ListItemIcon>\n                <ListItemText \n                  primary={student.name}\n                  secondary={`ID: ${student.student_id} - Marked Present`}\n                />\n                <CheckCircle color=\"primary\" />\n              </ListItem>\n            ))}\n          </List>\n        </Box>\n      )}\n    </Paper>\n  );\n};\n\n// QR Attendance Component\nconst QRAttendanceComponent = ({ \n  qrCodeHash, \n  onRefresh, \n  onSimulateScan, \n  scannedCount, \n  isActive,\n  course,\n  sessionTimeLeft \n}) => {\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const qrValue = qrCodeHash ? JSON.stringify({\n    type: 'attendance',\n    courseCode: course?.courseCode || course?.course_code,\n    courseName: course?.courseName || course?.course_name,\n    sessionId: qrCodeHash,\n    timestamp: new Date().toISOString(),\n  }) : '';\n\n  return (\n    <Paper sx={{ p: 3, textAlign: 'center', border: '1px solid #1976d2' }}>\n      <Typography variant=\"h6\" gutterBottom color=\"primary\">\n        <QrCode2 sx={{ mr: 1 }} />\n        QR Code Attendance\n      </Typography>\n      \n      <Box sx={{ \n        width: 256, \n        height: 256, \n        mx: 'auto', \n        my: 3,\n        border: '2px solid #1976d2',\n        borderRadius: 2,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backgroundColor: '#ffffff',\n        p: 2\n      }}>\n        {qrCodeHash ? (\n          <QRCodeSVG \n            value={qrValue}\n            size={200}\n            level=\"H\"\n            includeMargin={true}\n          />\n        ) : (\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            Generate QR Code to start\n          </Typography>\n        )}\n      </Box>\n\n      <Box sx={{ mb: 3 }}>\n        <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n          Students should scan this QR code with their mobile devices\n        </Typography>\n        <Typography variant=\"caption\" color=\"textSecondary\">\n          Session: {isActive ? 'Active' : 'Inactive'}  Scanned: {scannedCount}\n        </Typography>\n        {isActive && sessionTimeLeft && (\n          <Typography variant=\"caption\" color=\"primary\" display=\"block\" sx={{ mt: 1, fontWeight: 'bold' }}>\n             Expires in: {formatTime(sessionTimeLeft)}\n          </Typography>\n        )}\n      </Box>\n\n      <Box sx={{ display: 'flex', gap: 2, justifyContent: 'center', flexWrap: 'wrap' }}>\n        <Button\n          variant=\"contained\"\n          startIcon={<Refresh />}\n          onClick={onRefresh}\n          disabled={!isActive}\n          color=\"primary\"\n        >\n          Refresh QR\n        </Button>\n        <Button\n          variant=\"outlined\"\n          onClick={onSimulateScan}\n          disabled={!isActive}\n          color=\"primary\"\n        >\n          Simulate Scan\n        </Button>\n      </Box>\n    </Paper>\n  );\n};\n\n// Faculty Profile Component\nconst FacultyProfile = ({ faculty, onUpdateProfile, setSnackbar }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedProfile, setEditedProfile] = useState(faculty);\n  const [loading, setLoading] = useState(false);\n\n  const handleEdit = () => {\n    setIsEditing(true);\n    setEditedProfile({ ...faculty });\n  };\n\n  const handleCancel = () => {\n    setIsEditing(false);\n    setEditedProfile(faculty);\n  };\n\n  const handleSave = async () => {\n    try {\n      setLoading(true);\n      await onUpdateProfile(editedProfile);\n      setIsEditing(false);\n      setSnackbar({\n        open: true,\n        message: 'Profile updated successfully!',\n        severity: 'success'\n      });\n    } catch (error) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to update profile.',\n        severity: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (field, value) => {\n    setEditedProfile(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  return (\n    <Paper sx={{ p: 3, border: '1px solid #1976d2' }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n        <Typography variant=\"h5\" color=\"primary.main\">\n          Faculty Profile\n        </Typography>\n        {!isEditing ? (\n          <Button startIcon={<Edit />} onClick={handleEdit} variant=\"outlined\" color=\"primary\">\n            Edit Profile\n          </Button>\n        ) : (\n          <Box sx={{ display: 'flex', gap: 1 }}>\n            <Button startIcon={<Cancel />} onClick={handleCancel} variant=\"outlined\" color=\"secondary\">\n              Cancel\n            </Button>\n            <Button startIcon={<Save />} onClick={handleSave} variant=\"contained\" color=\"primary\" disabled={loading}>\n              {loading ? 'Saving...' : 'Save'}\n            </Button>\n          </Box>\n        )}\n      </Box>\n\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={4}>\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n            <Avatar sx={{ width: 120, height: 120, mb: 2, bgcolor: 'primary.main' }}>\n              <Person sx={{ fontSize: 60 }} />\n            </Avatar>\n            <Typography variant=\"h6\" gutterBottom>\n              {faculty?.name}\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              {faculty?.department}\n            </Typography>\n          </Box>\n        </Grid>\n\n        <Grid item xs={12} md={8}>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                fullWidth\n                label=\"Full Name\"\n                value={isEditing ? editedProfile.name : faculty?.name}\n                onChange={(e) => handleChange('name', e.target.value)}\n                disabled={!isEditing}\n                InputProps={{ startAdornment: <InputAdornment position=\"start\"><Person /></InputAdornment> }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField fullWidth label=\"Employee ID\" value={faculty?.employeeId || 'N/A'} disabled />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                fullWidth\n                label=\"Email\"\n                value={isEditing ? editedProfile.email : faculty?.email}\n                onChange={(e) => handleChange('email', e.target.value)}\n                disabled={!isEditing}\n                InputProps={{ startAdornment: <InputAdornment position=\"start\"><Email /></InputAdornment> }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                fullWidth\n                label=\"Phone\"\n                value={isEditing ? editedProfile.phone : faculty?.phone}\n                onChange={(e) => handleChange('phone', e.target.value)}\n                disabled={!isEditing}\n                InputProps={{ startAdornment: <InputAdornment position=\"start\"><Phone /></InputAdornment> }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField fullWidth label=\"Department\" value={faculty?.department} disabled />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nconst FacultyPortal = ({ user, setUser }) => {\n  const [activeTab, setActiveTab] = useState(0);\n  const [courses, setCourses] = useState([]);\n  const [attendanceDialog, setAttendanceDialog] = useState(false);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [qrCodeHash, setQrCodeHash] = useState('');\n  const [attendanceMethod, setAttendanceMethod] = useState('qr');\n  const [attendanceRecords, setAttendanceRecords] = useState({});\n  const [manualAttendance, setManualAttendance] = useState({});\n  const [scheduleData, setScheduleData] = useState([]);\n  const [reportsData, setReportsData] = useState({});\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\n  const [qrSessionActive, setQrSessionActive] = useState(false);\n  const [scannedCount, setScannedCount] = useState(0);\n  const [qrSessionTimer, setQrSessionTimer] = useState(300);\n  const [facultyProfile, setFacultyProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // Logout function\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('user');\n    setUser(null);\n    window.location.href = '/login';\n  };\n\n  // Enhanced data fetching\n  const fetchFacultyData = async () => {\n    try {\n      setLoading(true);\n      console.log('Starting to fetch faculty data...');\n      \n      // Fetch profile\n      try {\n        const profileData = await apiService.getFacultyProfile();\n        setFacultyProfile(profileData);\n        console.log('Profile data:', profileData);\n      } catch (profileError) {\n        console.error('Error fetching profile:', profileError);\n      }\n\n      // Fetch courses\n      await fetchFacultyCourses();\n\n      // Fetch schedule\n      try {\n        const scheduleData = await apiService.getFacultySchedule();\n        setScheduleData(scheduleData.schedule || []);\n      } catch (scheduleError) {\n        console.error('Error fetching schedule:', scheduleError);\n      }\n\n    } catch (error) {\n      console.error('Failed to fetch faculty data:', error);\n      setSnackbar({\n        open: true,\n        message: 'Failed to load data. Please check your connection.',\n        severity: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fixed course fetching function\n  const fetchFacultyCourses = async () => {\n    try {\n      console.log('Fetching faculty courses...');\n      const coursesData = await apiService.getFacultyCourses();\n      console.log('Courses data received:', coursesData);\n\n      if (coursesData && coursesData.length > 0) {\n        setCourses(coursesData);\n        \n        // Initialize attendance records\n        const initialRecords = {};\n        for (const course of coursesData) {\n          const courseId = course._id || course.id;\n          try {\n            const students = await apiService.getCourseStudents(courseId);\n            initialRecords[courseId] = Array.isArray(students) ? students.map(student => ({\n              id: student._id || student.id,\n              student_name: student.name || student.student_name,\n              student_id: student.studentId || student.student_id,\n              status: 'Absent',\n              time: '-',\n              method: '-'\n            })) : [];\n          } catch (error) {\n            console.warn(`Could not fetch students for course ${courseId}:`, error);\n            initialRecords[courseId] = [];\n          }\n        }\n        setAttendanceRecords(initialRecords);\n      } else {\n        setCourses([]);\n        console.log('No courses found for faculty');\n      }\n    } catch (error) {\n      console.error('Error fetching faculty courses:', error);\n      setCourses([]);\n      setSnackbar({\n        open: true,\n        message: 'Failed to load courses. Please try again.',\n        severity: 'error'\n      });\n    }\n  };\n\n  useEffect(() => {\n    fetchFacultyData();\n  }, []);\n\n  useEffect(() => {\n    let timer;\n    if (qrSessionActive && qrSessionTimer > 0) {\n      timer = setInterval(() => {\n        setQrSessionTimer(prev => prev - 1);\n      }, 1000);\n    } else if (qrSessionTimer === 0 && qrSessionActive) {\n      setQrSessionActive(false);\n      setSnackbar({\n        open: true,\n        message: 'QR session expired.',\n        severity: 'warning'\n      });\n    }\n    return () => clearInterval(timer);\n  }, [qrSessionActive, qrSessionTimer]);\n\n  const generateQRCode = async (course) => {\n    try {\n      const sessionData = {\n        courseId: course._id || course.id,\n        courseCode: course.courseCode || course.course_code,\n        duration: 300,\n        method: 'qr'\n      };\n\n      const result = await apiService.startAttendanceSession(sessionData);\n      const hash = result.sessionId || `QR_${Date.now()}`;\n      \n      setQrCodeHash(hash);\n      setQrSessionActive(true);\n      setQrSessionTimer(300);\n      setScannedCount(0);\n\n      setSnackbar({\n        open: true,\n        message: 'QR Code generated!',\n        severity: 'success'\n      });\n\n      return hash;\n    } catch (error) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to generate QR code.',\n        severity: 'error'\n      });\n    }\n  };\n\n  const startAttendanceSession = async (course, method = 'qr') => {\n    setSelectedCourse(course);\n    setAttendanceMethod(method);\n    \n    if (method === 'qr') {\n      await generateQRCode(course);\n    }\n    \n    setAttendanceDialog(true);\n  };\n\n  const markAttendance = async (studentId, status = 'Present', method = 'Manual', studentName = '') => {\n    if (!selectedCourse) return;\n\n    try {\n      const attendanceData = {\n        studentId,\n        courseId: selectedCourse._id || selectedCourse.id,\n        status,\n        method,\n        timestamp: new Date().toISOString()\n      };\n\n      await apiService.markAttendance(attendanceData);\n\n      const time = new Date().toLocaleTimeString();\n      const courseId = selectedCourse._id || selectedCourse.id;\n\n      setAttendanceRecords(prev => ({\n        ...prev,\n        [courseId]: prev[courseId]?.map(record =>\n          record.student_id === studentId\n            ? { ...record, status, time, method }\n            : record\n        ) || []\n      }));\n\n      if (method === 'QR Code') {\n        setScannedCount(prev => prev + 1);\n      }\n\n    } catch (error) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to mark attendance.',\n        severity: 'error'\n      });\n    }\n  };\n\n  const simulateQRScan = () => {\n    if (!selectedCourse || !qrSessionActive) return;\n\n    const courseId = selectedCourse._id || selectedCourse.id;\n    const students = attendanceRecords[courseId] || [];\n    const absentStudents = students.filter(s => s.status === 'Absent');\n    \n    if (absentStudents.length > 0) {\n      const randomStudent = absentStudents[Math.floor(Math.random() * absentStudents.length)];\n      markAttendance(randomStudent.student_id, 'Present', 'QR Code', randomStudent.student_name);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <AppBar position=\"static\" sx={{ bgcolor: '#1976d2', mb: 3 }}>\n        <Toolbar>\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n            Faculty Portal\n          </Typography>\n          <Typography variant=\"body2\" sx={{ mr: 2 }}>\n            Welcome, {facultyProfile?.name}\n          </Typography>\n          <Button color=\"inherit\" startIcon={<Logout />} onClick={handleLogout}>\n            Logout\n          </Button>\n        </Toolbar>\n      </AppBar>\n\n      <Container maxWidth=\"lg\" sx={{ mb: 4 }}>\n        <Paper sx={{ width: '100%', mb: 3 }}>\n          <Tabs value={activeTab} onChange={(e, newValue) => setActiveTab(newValue)} variant=\"scrollable\">\n            <Tab icon={<Schedule />} label=\"My Schedule\" />\n            <Tab icon={<Groups />} label=\"My Courses\" />\n            <Tab icon={<QrCode2 />} label=\"Take Attendance\" />\n            <Tab icon={<Analytics />} label=\"Reports\" />\n            <Tab icon={<AccountCircle />} label=\"Profile\" />\n          </Tabs>\n        </Paper>\n\n        {/* My Courses Tab - FIXED */}\n        {activeTab === 1 && (\n          <Box>\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n              <Typography variant=\"h5\">My Courses</Typography>\n              <Button startIcon={<Refresh />} onClick={fetchFacultyCourses} variant=\"outlined\">\n                Refresh\n              </Button>\n            </Box>\n\n            {courses.length > 0 ? (\n              <Grid container spacing={3}>\n                {courses.map((course, index) => (\n                  <Grid item xs={12} md={6} key={course._id || course.id || index}>\n                    <Card sx={{ height: '100%', border: '1px solid #1976d2' }}>\n                      <CardContent>\n                        <Typography variant=\"h6\" color=\"primary\">\n                          {course.courseCode || course.course_code}\n                        </Typography>\n                        <Typography variant=\"body1\" sx={{ fontWeight: 'bold', mb: 1 }}>\n                          {course.courseName || course.course_name}\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                          Department: {course.department}\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                          Schedule: {course.schedule || course.schedule_time}\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                          Room: {course.room}\n                        </Typography>\n                        \n                        <Box sx={{ mt: 2, display: 'flex', gap: 1, flexWrap: 'wrap' }}>\n                          <Button \n                            variant=\"contained\" \n                            size=\"small\"\n                            onClick={() => startAttendanceSession(course, 'qr')}\n                            startIcon={<QrCode2 />}\n                          >\n                            QR Code\n                          </Button>\n                          <Button \n                            variant=\"outlined\" \n                            size=\"small\"\n                            onClick={() => startAttendanceSession(course, 'face')}\n                            startIcon={<Face />}\n                          >\n                            Face Recognition\n                          </Button>\n                        </Box>\n                      </CardContent>\n                    </Card>\n                  </Grid>\n                ))}\n              </Grid>\n            ) : (\n              <Paper sx={{ p: 4, textAlign: 'center' }}>\n                <Typography variant=\"h6\" color=\"textSecondary\">\n                  No Courses Assigned\n                </Typography>\n                <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mt: 1 }}>\n                  You haven't been assigned any courses yet.\n                </Typography>\n              </Paper>\n            )}\n          </Box>\n        )}\n\n        {/* Take Attendance Tab */}\n        {activeTab === 2 && (\n          <Box>\n            <Typography variant=\"h5\" gutterBottom sx={{ mb: 3 }}>\n              Quick Attendance\n            </Typography>\n            {courses.length > 0 ? (\n              <Grid container spacing={3}>\n                {courses.map((course, index) => (\n                  <Grid item xs={12} md={4} key={course._id || course.id || index}>\n                    <Card sx={{ textAlign: 'center', p: 3 }}>\n                      <CardContent>\n                        <Typography variant=\"h6\" color=\"primary\">\n                          {course.courseCode || course.course_code}\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mb: 2 }}>\n                          {course.courseName || course.course_name}\n                        </Typography>\n                        <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n                          <Button \n                            variant=\"contained\" \n                            onClick={() => startAttendanceSession(course, 'qr')}\n                            startIcon={<QrCode2 />}\n                          >\n                            QR Attendance\n                          </Button>\n                          <Button \n                            variant=\"outlined\" \n                            onClick={() => startAttendanceSession(course, 'face')}\n                            startIcon={<Face />}\n                          >\n                            Face Recognition\n                          </Button>\n                        </Box>\n                      </CardContent>\n                    </Card>\n                  </Grid>\n                ))}\n              </Grid>\n            ) : (\n              <Paper sx={{ p: 4, textAlign: 'center' }}>\n                <Typography variant=\"h6\" color=\"textSecondary\">\n                  No courses available\n                </Typography>\n              </Paper>\n            )}\n          </Box>\n        )}\n\n        {/* Attendance Dialog */}\n        <Dialog open={attendanceDialog} onClose={() => setAttendanceDialog(false)} maxWidth=\"md\" fullWidth>\n          <DialogTitle>\n            Take Attendance - {selectedCourse?.courseCode || selectedCourse?.course_code}\n          </DialogTitle>\n          <DialogContent>\n            <Box sx={{ mb: 3, display: 'flex', gap: 1 }}>\n              <Button \n                variant={attendanceMethod === 'qr' ? 'contained' : 'outlined'}\n                onClick={() => setAttendanceMethod('qr')}\n                startIcon={<QrCode2 />}\n              >\n                QR Code\n              </Button>\n              <Button \n                variant={attendanceMethod === 'face' ? 'contained' : 'outlined'}\n                onClick={() => setAttendanceMethod('face')}\n                startIcon={<Face />}\n              >\n                Face Recognition\n              </Button>\n            </Box>\n\n            {attendanceMethod === 'qr' && (\n              <QRAttendanceComponent\n                qrCodeHash={qrCodeHash}\n                onRefresh={() => generateQRCode(selectedCourse)}\n                onSimulateScan={simulateQRScan}\n                scannedCount={scannedCount}\n                isActive={qrSessionActive}\n                course={selectedCourse}\n                sessionTimeLeft={qrSessionTimer}\n              />\n            )}\n\n            {attendanceMethod === 'face' && (\n              <RealFaceRecognition\n                onAttendanceMarked={markAttendance}\n                isActive={attendanceMethod === 'face'}\n                setSnackbar={setSnackbar}\n                course={selectedCourse}\n              />\n            )}\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setAttendanceDialog(false)}>Close</Button>\n          </DialogActions>\n        </Dialog>\n\n        <Snackbar\n          open={snackbar.open}\n          autoHideDuration={4000}\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\n        >\n          <Alert severity={snackbar.severity}>\n            {snackbar.message}\n          </Alert>\n        </Snackbar>\n      </Container>\n    </Box>\n  );\n};\n\nexport default FacultyPortal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}