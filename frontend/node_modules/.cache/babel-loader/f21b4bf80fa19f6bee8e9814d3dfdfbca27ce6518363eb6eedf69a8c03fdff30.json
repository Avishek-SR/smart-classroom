{"ast":null,"code":"var _jsxFileName = \"/Volumes/Macbook-1/GITAM/5th_sem/WADSF/project/Mini project/smart-classroom/frontend/src/pages/admin/tabs/TimetableManagementTab.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, Button, Grid, Card, CardContent, Chip, IconButton, Paper, TextField, FormControl, InputLabel, Select, MenuItem, Dialog, DialogTitle, DialogContent, DialogActions, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Switch, FormControlLabel, Alert, Snackbar, CircularProgress, Tooltip, Tabs, Tab, RadioGroup, Radio, FormLabel, Accordion, AccordionSummary, AccordionDetails, List, ListItem, ListItemText, Divider, Backdrop, Fab } from '@mui/material';\nimport { Add, Refresh, Edit, Delete, AutoAwesome, Settings, Download, Print, Share, Visibility, Schedule, Class, Person, MeetingRoom, ExpandMore, FilterList, Search, Save, Clear, AutoFixHigh, EditCalendar, ContentCopy, Undo, Redo, Warning, CheckCircle } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TimetableManagementTab = ({\n  timetable = [],\n  courses = [],\n  classrooms = [],\n  users = [],\n  onGenerateTimetable,\n  onUpdateTimetable,\n  onDeleteTimetable,\n  onSaveTimetable,\n  colorScheme,\n  loading = false\n}) => {\n  _s();\n  const [localTimetable, setLocalTimetable] = useState([]);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [viewMode, setViewMode] = useState('auto');\n  const [selectedDepartment, setSelectedDepartment] = useState('all');\n  const [constraints, setConstraints] = useState({\n    avoidBackToBack: true,\n    maxHoursPerDay: 6,\n    minGapBetweenClasses: 0,\n    preferMorningSlots: true,\n    avoidEveningClasses: false\n  });\n  const [editMode, setEditMode] = useState(false);\n  const [scheduleDialogOpen, setScheduleDialogOpen] = useState(false);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [conflicts, setConflicts] = useState([]);\n  const [generationProgress, setGenerationProgress] = useState(0);\n  const [history, setHistory] = useState([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n\n  // Form state for manual scheduling\n  const [scheduleForm, setScheduleForm] = useState({\n    courseId: '',\n    facultyId: '',\n    classroomId: '',\n    classType: 'Lecture'\n  });\n\n  // Time slots and days\n  const timeSlots = ['08:00-09:00', '09:00-10:00', '10:00-11:00', '11:00-12:00', '12:00-13:00', '13:00-14:00', '14:00-15:00', '15:00-16:00', '16:00-17:00'];\n  const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n\n  // Get faculty members from users\n  const facultyMembers = users.filter(user => user.role === 'faculty');\n\n  // FIXED: Initialize timetable with proper persistence\n  useEffect(() => {\n    // First priority: Use timetable from props (from parent/backend)\n    if (timetable && timetable.length > 0) {\n      console.log('Loading timetable from props:', timetable.length, 'entries');\n      setLocalTimetable(timetable);\n      addToHistory(timetable);\n      detectConflicts(timetable);\n    }\n    // Second priority: Try to load from localStorage as backup\n    else {\n      const savedTimetable = localStorage.getItem('smartClassroom_timetable');\n      if (savedTimetable) {\n        try {\n          const parsedTimetable = JSON.parse(savedTimetable);\n          console.log('Loading timetable from localStorage:', parsedTimetable.length, 'entries');\n          setLocalTimetable(parsedTimetable);\n          addToHistory(parsedTimetable);\n          detectConflicts(parsedTimetable);\n          setSuccess('Timetable loaded from local storage');\n        } catch (err) {\n          console.error('Error loading saved timetable:', err);\n          initializeEmptyTimetable();\n        }\n      } else {\n        console.log('No saved timetable found, initializing empty');\n        initializeEmptyTimetable();\n      }\n    }\n  }, [timetable]);\n\n  // FIXED: Save to localStorage AND backend whenever timetable changes\n  useEffect(() => {\n    if (localTimetable.length > 0) {\n      console.log('Saving timetable to localStorage:', localTimetable.length, 'entries');\n      localStorage.setItem('smartClassroom_timetable', JSON.stringify(localTimetable));\n\n      // Also save to backend if available\n      if (onSaveTimetable) {\n        saveTimetableToBackend(localTimetable).catch(err => {\n          console.error('Failed to save to backend:', err);\n        });\n      }\n    }\n  }, [localTimetable]);\n  const initializeEmptyTimetable = () => {\n    const emptyTimetable = [];\n    addToHistory(emptyTimetable);\n    setLocalTimetable(emptyTimetable);\n  };\n  const addToHistory = newTimetable => {\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push(JSON.parse(JSON.stringify(newTimetable)));\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  };\n  const undo = () => {\n    if (historyIndex > 0) {\n      setHistoryIndex(historyIndex - 1);\n      setLocalTimetable(JSON.parse(JSON.stringify(history[historyIndex - 1])));\n    }\n  };\n  const redo = () => {\n    if (historyIndex < history.length - 1) {\n      setHistoryIndex(historyIndex + 1);\n      setLocalTimetable(JSON.parse(JSON.stringify(history[historyIndex + 1])));\n    }\n  };\n\n  // Save timetable to MongoDB backend\n  const saveTimetableToBackend = async timetableData => {\n    if (onSaveTimetable) {\n      try {\n        await onSaveTimetable(timetableData);\n        console.log('Timetable saved to backend successfully');\n        return true;\n      } catch (err) {\n        console.error('Failed to save to backend:', err);\n        setError('Failed to save timetable to database');\n        return false;\n      }\n    }\n    return false;\n  };\n  const generateTimetableAutomatically = async () => {\n    setGenerationProgress(0);\n    try {\n      // Simulate generation process with progress\n      for (let i = 0; i <= 100; i += 20) {\n        setGenerationProgress(i);\n        await new Promise(resolve => setTimeout(resolve, 200));\n      }\n      const generatedTimetable = generateLocalTimetable();\n      setLocalTimetable(generatedTimetable);\n      addToHistory(generatedTimetable);\n      detectConflicts(generatedTimetable);\n\n      // Save to MongoDB backend\n      const saved = await saveTimetableToBackend(generatedTimetable);\n      if (saved) {\n        setSuccess('Timetable generated and saved to database successfully!');\n      } else {\n        setSuccess('Timetable generated successfully! (Saved locally)');\n      }\n    } catch (err) {\n      setError('Failed to generate timetable: ' + err.message);\n    } finally {\n      setGenerationProgress(0);\n    }\n  };\n\n  // Generate timetable using real data from course management with constraints\n  const generateLocalTimetable = () => {\n    const generatedTimetable = [];\n\n    // Use real data from props\n    const availableCourses = courses.filter(course => course && (course.id || course._id));\n    const availableFaculty = facultyMembers.filter(faculty => faculty && (faculty.id || faculty._id));\n    const availableClassrooms = classrooms.filter(classroom => classroom && (classroom.id || classroom._id));\n    if (availableCourses.length === 0) {\n      setError('No courses available. Please add courses first.');\n      return [];\n    }\n    if (availableFaculty.length === 0) {\n      setError('No faculty members available. Please add faculty first.');\n      return [];\n    }\n    if (availableClassrooms.length === 0) {\n      setError('No classrooms available. Please add classrooms first.');\n      return [];\n    }\n    let courseIndex = 0;\n    const facultySchedule = {};\n    const classroomSchedule = {};\n    const facultyDailyHours = {};\n    const classroomDailyUsage = {};\n\n    // Apply constraints while generating\n    days.forEach(day => {\n      // Reset daily counters\n      facultyDailyHours[day] = {};\n      classroomDailyUsage[day] = {};\n      timeSlots.forEach((timeSlot, slotIndex) => {\n        // Apply morning preference constraint\n        if (constraints.preferMorningSlots && slotIndex > 4) {\n          return; // Skip evening slots if preferred\n        }\n\n        // Apply evening avoidance constraint\n        if (constraints.avoidEveningClasses && slotIndex > 6) {\n          return; // Skip late evening slots\n        }\n\n        // Apply gap constraint properly\n        const shouldSchedule = shouldScheduleInSlot(slotIndex, constraints.minGapBetweenClasses);\n        if (shouldSchedule && courseIndex < availableCourses.length) {\n          const course = availableCourses[courseIndex];\n\n          // Find faculty from same department as course\n          const faculty = availableFaculty.find(f => f.department === course.department && !facultySchedule[`${f.id}-${day}-${timeSlot}`] && (\n          // Check faculty availability\n          !facultyDailyHours[day][f.id] || facultyDailyHours[day][f.id] < constraints.maxHoursPerDay) // Check daily hours limit\n          ) || availableFaculty[courseIndex % availableFaculty.length];\n\n          // Find suitable classroom\n          const classroom = availableClassrooms.find(c => c.capacity >= (course.maxStudents || 30) && !classroomSchedule[`${c.id}-${day}-${timeSlot}`] && (\n          // Check classroom availability\n          !classroomDailyUsage[day][c.id] || classroomDailyUsage[day][c.id] < constraints.maxHoursPerDay) // Check daily usage limit\n          ) || availableClassrooms[courseIndex % availableClassrooms.length];\n          if (course && faculty && classroom) {\n            // Apply back-to-back constraint\n            if (constraints.avoidBackToBack) {\n              const previousSlot = timeSlots[slotIndex - 1];\n              const nextSlot = timeSlots[slotIndex + 1];\n\n              // Check if faculty or classroom is already booked in adjacent slots\n              if (facultySchedule[`${faculty.id}-${day}-${previousSlot}`] || facultySchedule[`${faculty.id}-${day}-${nextSlot}`] || classroomSchedule[`${classroom.id}-${day}-${previousSlot}`] || classroomSchedule[`${classroom.id}-${day}-${nextSlot}`]) {\n                return; // Skip this slot to avoid back-to-back\n              }\n            }\n            generatedTimetable.push({\n              id: `${day}-${timeSlot}-${courseIndex}-${Date.now()}`,\n              day,\n              timeSlot,\n              courseId: course.id || course._id,\n              facultyId: faculty.id || faculty._id,\n              classroomId: classroom.id || classroom._id,\n              classType: course.courseType || 'Lecture',\n              course: course,\n              faculty: faculty,\n              classroom: classroom\n            });\n\n            // Mark faculty and classroom as booked\n            facultySchedule[`${faculty.id}-${day}-${timeSlot}`] = true;\n            classroomSchedule[`${classroom.id}-${day}-${timeSlot}`] = true;\n\n            // Update daily counters\n            facultyDailyHours[day][faculty.id] = (facultyDailyHours[day][faculty.id] || 0) + 1;\n            classroomDailyUsage[day][classroom.id] = (classroomDailyUsage[day][classroom.id] || 0) + 1;\n            courseIndex++;\n          }\n        }\n      });\n    });\n    return generatedTimetable;\n  };\n\n  // Helper function to determine if we should schedule in this slot based on gap\n  const shouldScheduleInSlot = (slotIndex, minGap) => {\n    if (minGap === 0) {\n      return true; // No gap required, schedule in every slot\n    }\n\n    // For gap > 0, calculate spacing\n    const spacing = minGap + 1; // gap of 1 means schedule every other slot\n    return slotIndex % spacing === 0;\n  };\n  const detectConflicts = timetableToCheck => {\n    const newConflicts = [];\n    const facultySchedule = {};\n    const classroomSchedule = {};\n    const facultyDailyHours = {};\n    const classroomDailyUsage = {};\n    timetableToCheck.forEach(entry => {\n      const facultyKey = `${entry.facultyId}-${entry.day}-${entry.timeSlot}`;\n      const classroomKey = `${entry.classroomId}-${entry.day}-${entry.timeSlot}`;\n\n      // Initialize daily counters\n      if (!facultyDailyHours[entry.day]) facultyDailyHours[entry.day] = {};\n      if (!classroomDailyUsage[entry.day]) classroomDailyUsage[entry.day] = {};\n\n      // Check faculty conflicts\n      if (facultySchedule[facultyKey]) {\n        newConflicts.push({\n          type: 'faculty',\n          message: `Faculty is double-booked at ${entry.day} ${entry.timeSlot}`,\n          day: entry.day,\n          slot: entry.timeSlot,\n          resource: entry.facultyId\n        });\n      } else {\n        facultySchedule[facultyKey] = true;\n        facultyDailyHours[entry.day][entry.facultyId] = (facultyDailyHours[entry.day][entry.facultyId] || 0) + 1;\n      }\n\n      // Check classroom conflicts\n      if (classroomSchedule[classroomKey]) {\n        newConflicts.push({\n          type: 'classroom',\n          message: `Classroom is double-booked at ${entry.day} ${entry.timeSlot}`,\n          day: entry.day,\n          slot: entry.timeSlot,\n          resource: entry.classroomId\n        });\n      } else {\n        classroomSchedule[classroomKey] = true;\n        classroomDailyUsage[entry.day][entry.classroomId] = (classroomDailyUsage[entry.day][entry.classroomId] || 0) + 1;\n      }\n\n      // Check daily hours constraint\n      if (facultyDailyHours[entry.day][entry.facultyId] > constraints.maxHoursPerDay) {\n        newConflicts.push({\n          type: 'constraint',\n          message: `Faculty exceeds daily hours limit (${constraints.maxHoursPerDay}) on ${entry.day}`,\n          day: entry.day,\n          slot: entry.timeSlot,\n          resource: entry.facultyId\n        });\n      }\n\n      // Check back-to-back constraint violations\n      if (constraints.avoidBackToBack) {\n        const timeIndex = timeSlots.indexOf(entry.timeSlot);\n        const previousSlot = timeSlots[timeIndex - 1];\n        const nextSlot = timeSlots[timeIndex + 1];\n        if (previousSlot && facultySchedule[`${entry.facultyId}-${entry.day}-${previousSlot}`]) {\n          newConflicts.push({\n            type: 'constraint',\n            message: `Faculty has back-to-back classes at ${entry.day}`,\n            day: entry.day,\n            slot: entry.timeSlot,\n            resource: entry.facultyId\n          });\n        }\n      }\n    });\n    setConflicts(newConflicts);\n  };\n\n  // Stable constraints update without flickering\n  const handleConstraintChange = (constraintName, value) => {\n    setConstraints(prev => ({\n      ...prev,\n      [constraintName]: value\n    }));\n  };\n  const handleManualSchedule = (day, timeSlot) => {\n    setSelectedSlot({\n      day,\n      timeSlot\n    });\n    const existingEntry = localTimetable.find(entry => entry.day === day && entry.timeSlot === timeSlot);\n    if (existingEntry) {\n      setScheduleForm({\n        courseId: existingEntry.courseId,\n        facultyId: existingEntry.facultyId,\n        classroomId: existingEntry.classroomId,\n        classType: existingEntry.classType || 'Lecture'\n      });\n    } else {\n      setScheduleForm({\n        courseId: '',\n        facultyId: '',\n        classroomId: '',\n        classType: 'Lecture'\n      });\n    }\n    setScheduleDialogOpen(true);\n  };\n  const saveManualSchedule = async () => {\n    try {\n      const selectedCourse = courses.find(c => c.id === scheduleForm.courseId || c._id === scheduleForm.courseId);\n      const selectedFaculty = facultyMembers.find(f => f.id === scheduleForm.facultyId || f._id === scheduleForm.facultyId);\n      const selectedClassroom = classrooms.find(c => c.id === scheduleForm.classroomId || c._id === scheduleForm.classroomId);\n      if (!selectedCourse || !selectedFaculty || !selectedClassroom) {\n        setError('Please select all required fields');\n        return;\n      }\n      const scheduleData = {\n        day: selectedSlot.day,\n        timeSlot: selectedSlot.timeSlot,\n        courseId: scheduleForm.courseId,\n        facultyId: scheduleForm.facultyId,\n        classroomId: scheduleForm.classroomId,\n        classType: scheduleForm.classType,\n        course: selectedCourse,\n        faculty: selectedFaculty,\n        classroom: selectedClassroom\n      };\n      const existingEntryIndex = localTimetable.findIndex(entry => entry.day === selectedSlot.day && entry.timeSlot === selectedSlot.timeSlot);\n      let newTimetable;\n      if (existingEntryIndex >= 0) {\n        if (onUpdateTimetable && localTimetable[existingEntryIndex].id) {\n          await onUpdateTimetable(localTimetable[existingEntryIndex].id, scheduleData);\n        }\n        newTimetable = localTimetable.map((entry, index) => index === existingEntryIndex ? {\n          ...entry,\n          ...scheduleData\n        } : entry);\n      } else {\n        const newEntry = {\n          ...scheduleData,\n          id: `${selectedSlot.day}-${selectedSlot.timeSlot}-${Date.now()}`\n        };\n        newTimetable = [...localTimetable, newEntry];\n      }\n      setLocalTimetable(newTimetable);\n      addToHistory(newTimetable);\n      detectConflicts(newTimetable);\n\n      // Save to MongoDB backend\n      await saveTimetableToBackend(newTimetable);\n      setScheduleDialogOpen(false);\n      setSelectedSlot(null);\n      setScheduleForm({\n        courseId: '',\n        facultyId: '',\n        classroomId: '',\n        classType: 'Lecture'\n      });\n      setSuccess(existingEntryIndex >= 0 ? 'Class updated successfully!' : 'Class scheduled successfully!');\n    } catch (err) {\n      setError('Failed to save schedule: ' + err.message);\n    }\n  };\n  const clearSlot = async (day, timeSlot) => {\n    try {\n      const entryToDelete = localTimetable.find(entry => entry.day === day && entry.timeSlot === timeSlot);\n      if (entryToDelete && entryToDelete.id && onDeleteTimetable) {\n        await onDeleteTimetable(entryToDelete.id);\n      }\n      const newTimetable = localTimetable.filter(entry => !(entry.day === day && entry.timeSlot === timeSlot));\n      setLocalTimetable(newTimetable);\n      addToHistory(newTimetable);\n      detectConflicts(newTimetable);\n\n      // Save to MongoDB backend\n      await saveTimetableToBackend(newTimetable);\n      setSuccess('Slot cleared successfully!');\n    } catch (err) {\n      setError('Failed to clear slot: ' + err.message);\n    }\n  };\n  const getEntryForSlot = (day, timeSlot) => {\n    return localTimetable.find(entry => entry.day === day && entry.timeSlot === timeSlot);\n  };\n  const exportTimetable = format => {\n    setSuccess(`Timetable exported as ${format.toUpperCase()} successfully!`);\n  };\n  const getDepartmentColor = department => {\n    const colors = {\n      'Computer Science': '#1976d2',\n      'Mathematics': '#2e7d32',\n      'Physics': '#ed6c02',\n      'Chemistry': '#7b1fa2',\n      'Biology': '#00838f'\n    };\n    return colors[department] || '#757575';\n  };\n\n  // Compact timetable grid\n  const TimetableGridView = () => /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      mt: 3\n    },\n    children: /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      elevation: 2,\n      sx: {\n        maxHeight: '60vh',\n        overflow: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 600\n        },\n        size: \"small\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              sx: {\n                fontWeight: 'bold',\n                bgcolor: 'primary.main',\n                color: 'white',\n                width: 100,\n                position: 'sticky',\n                left: 0,\n                zIndex: 2\n              },\n              children: \"Day / Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 15\n            }, this), timeSlots.map(timeSlot => /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              sx: {\n                fontWeight: 'bold',\n                bgcolor: 'primary.main',\n                color: 'white',\n                width: 120,\n                minWidth: 120\n              },\n              children: timeSlot\n            }, timeSlot, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: days.map(day => /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              sx: {\n                fontWeight: 'bold',\n                bgcolor: 'grey.50',\n                width: 100,\n                position: 'sticky',\n                left: 0,\n                zIndex: 1\n              },\n              children: day\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 17\n            }, this), timeSlots.map(timeSlot => {\n              var _scheduledClass$cours, _scheduledClass$facul, _scheduledClass$facul2, _scheduledClass$class, _scheduledClass$class2, _scheduledClass$cours2;\n              const scheduledClass = getEntryForSlot(day, timeSlot);\n              const hasConflict = conflicts.some(conflict => conflict.day === day && conflict.slot === timeSlot);\n              return /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  width: 120,\n                  height: 60,\n                  border: '1px solid',\n                  borderColor: 'divider',\n                  bgcolor: hasConflict ? 'error.light' : scheduledClass ? 'success.light' : 'background.paper',\n                  cursor: editMode ? 'pointer' : 'default',\n                  position: 'relative',\n                  p: 0.5,\n                  '&:hover': editMode ? {\n                    bgcolor: 'action.hover',\n                    '& .action-buttons': {\n                      opacity: 1\n                    }\n                  } : {}\n                },\n                onClick: () => editMode && handleManualSchedule(day, timeSlot),\n                children: [scheduledClass ? /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    fontSize: '0.7rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    fontWeight: \"bold\",\n                    display: \"block\",\n                    noWrap: true,\n                    children: ((_scheduledClass$cours = scheduledClass.course) === null || _scheduledClass$cours === void 0 ? void 0 : _scheduledClass$cours.code) || scheduledClass.courseId\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 660,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    display: \"block\",\n                    noWrap: true,\n                    children: ((_scheduledClass$facul = scheduledClass.faculty) === null || _scheduledClass$facul === void 0 ? void 0 : (_scheduledClass$facul2 = _scheduledClass$facul.name) === null || _scheduledClass$facul2 === void 0 ? void 0 : _scheduledClass$facul2.split(' ')[0]) || 'Faculty'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 663,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"text.secondary\",\n                    display: \"block\",\n                    noWrap: true,\n                    children: ((_scheduledClass$class = scheduledClass.classroom) === null || _scheduledClass$class === void 0 ? void 0 : _scheduledClass$class.name) || 'Room'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                    label: ((_scheduledClass$class2 = scheduledClass.classType) === null || _scheduledClass$class2 === void 0 ? void 0 : _scheduledClass$class2.charAt(0)) || 'L',\n                    size: \"small\",\n                    sx: {\n                      height: 14,\n                      fontSize: '0.5rem',\n                      bgcolor: getDepartmentColor((_scheduledClass$cours2 = scheduledClass.course) === null || _scheduledClass$cours2 === void 0 ? void 0 : _scheduledClass$cours2.department)\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  sx: {\n                    fontSize: '0.7rem'\n                  },\n                  children: \"Available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 25\n                }, this), editMode && scheduledClass && /*#__PURE__*/_jsxDEV(Box, {\n                  className: \"action-buttons\",\n                  sx: {\n                    opacity: 0,\n                    position: 'absolute',\n                    top: 2,\n                    right: 2,\n                    transition: 'opacity 0.2s'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                    title: \"Clear Slot\",\n                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                      size: \"small\",\n                      onClick: e => {\n                        e.stopPropagation();\n                        clearSlot(day, timeSlot);\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Clear, {\n                        fontSize: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 695,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 694,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 693,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 686,\n                  columnNumber: 25\n                }, this)]\n              }, `${day}-${timeSlot}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 21\n              }, this);\n            })]\n          }, day, true, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 587,\n    columnNumber: 5\n  }, this);\n  const ScheduleDialog = () => /*#__PURE__*/_jsxDEV(Dialog, {\n    open: scheduleDialogOpen,\n    onClose: () => setScheduleDialogOpen(false),\n    maxWidth: \"md\",\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: localTimetable.find(entry => entry.day === (selectedSlot === null || selectedSlot === void 0 ? void 0 : selectedSlot.day) && entry.timeSlot === (selectedSlot === null || selectedSlot === void 0 ? void 0 : selectedSlot.timeSlot)) ? 'Edit Class' : 'Schedule Class'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 713,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        children: [selectedSlot === null || selectedSlot === void 0 ? void 0 : selectedSlot.day, \" at \", selectedSlot === null || selectedSlot === void 0 ? void 0 : selectedSlot.timeSlot]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        sx: {\n          mt: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Select Course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"Select Course\",\n              value: scheduleForm.courseId,\n              onChange: e => setScheduleForm({\n                ...scheduleForm,\n                courseId: e.target.value\n              }),\n              children: courses.map(course => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: course.id || course._id,\n                children: [course.code, \" - \", course.name, \" (\", course.department, \")\"]\n              }, course.id || course._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 725,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Select Faculty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"Select Faculty\",\n              value: scheduleForm.facultyId,\n              onChange: e => setScheduleForm({\n                ...scheduleForm,\n                facultyId: e.target.value\n              }),\n              children: facultyMembers.map(faculty => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: faculty.id || faculty._id,\n                children: [faculty.name, \" - \", faculty.department]\n              }, faculty.id || faculty._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 743,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Select Classroom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"Select Classroom\",\n              value: scheduleForm.classroomId,\n              onChange: e => setScheduleForm({\n                ...scheduleForm,\n                classroomId: e.target.value\n              }),\n              children: classrooms.map(classroom => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: classroom.id || classroom._id,\n                children: [classroom.name, \" (\", classroom.type, \", Capacity: \", classroom.capacity, \")\"]\n              }, classroom.id || classroom._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 765,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 759,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Class Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"Class Type\",\n              value: scheduleForm.classType,\n              onChange: e => setScheduleForm({\n                ...scheduleForm,\n                classType: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Lecture\",\n                children: \"Lecture\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 780,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Lab\",\n                children: \"Lab\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 781,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Tutorial\",\n                children: \"Tutorial\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 782,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 772,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setScheduleDialogOpen(false),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 789,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: saveManualSchedule,\n        children: localTimetable.find(entry => entry.day === (selectedSlot === null || selectedSlot === void 0 ? void 0 : selectedSlot.day) && entry.timeSlot === (selectedSlot === null || selectedSlot === void 0 ? void 0 : selectedSlot.timeSlot)) ? 'Update' : 'Schedule'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 788,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 712,\n    columnNumber: 5\n  }, this);\n  const ConstraintsPanel = () => /*#__PURE__*/_jsxDEV(Accordion, {\n    children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n      expandIcon: /*#__PURE__*/_jsxDEV(ExpandMore, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 802,\n        columnNumber: 37\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: \"\\u2699\\uFE0F Scheduling Constraints\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 803,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 802,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            control: /*#__PURE__*/_jsxDEV(Switch, {\n              checked: constraints.avoidBackToBack,\n              onChange: e => handleConstraintChange('avoidBackToBack', e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 17\n            }, this),\n            label: \"Avoid Back-to-Back Classes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            control: /*#__PURE__*/_jsxDEV(Switch, {\n              checked: constraints.preferMorningSlots,\n              onChange: e => handleConstraintChange('preferMorningSlots', e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 821,\n              columnNumber: 17\n            }, this),\n            label: \"Prefer Morning Slots\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            control: /*#__PURE__*/_jsxDEV(Switch, {\n              checked: constraints.avoidEveningClasses,\n              onChange: e => handleConstraintChange('avoidEveningClasses', e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 832,\n              columnNumber: 17\n            }, this),\n            label: \"Avoid Evening Classes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 829,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            type: \"number\",\n            label: \"Max Hours Per Day\",\n            value: constraints.maxHoursPerDay,\n            onChange: e => handleConstraintChange('maxHoursPerDay', parseInt(e.target.value)),\n            InputProps: {\n              inputProps: {\n                min: 1,\n                max: 12\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 841,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 840,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            type: \"number\",\n            label: \"Min Gap Between Classes (hours)\",\n            value: constraints.minGapBetweenClasses,\n            onChange: e => handleConstraintChange('minGapBetweenClasses', parseInt(e.target.value)),\n            InputProps: {\n              inputProps: {\n                min: 0,\n                max: 4\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 851,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 805,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 801,\n    columnNumber: 5\n  }, this);\n  const ConflictsPanel = () => conflicts.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      mt: 2,\n      border: '2px solid',\n      borderColor: 'error.main'\n    },\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Warning, {\n          color: \"error\",\n          sx: {\n            mr: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 870,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"error\",\n          children: [\"Schedule Conflicts (\", conflicts.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 871,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 869,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        dense: true,\n        children: conflicts.map((conflict, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: conflict.message,\n            secondary: `${conflict.day} at ${conflict.slot}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 868,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 867,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          sx: {\n            color: (colorScheme === null || colorScheme === void 0 ? void 0 : colorScheme.primary) || '#1976d2',\n            mb: 1,\n            fontWeight: 'bold'\n          },\n          children: \"\\uD83D\\uDCC5 Timetable Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 895,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.secondary\",\n          children: \"Generate and manage academic schedules automatically or manually\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 898,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 894,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 905,\n            columnNumber: 24\n          }, this),\n          onClick: () => exportTimetable('pdf'),\n          children: \"Export\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 903,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(Print, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 912,\n            columnNumber: 24\n          }, this),\n          onClick: () => exportTimetable('print'),\n          children: \"Print\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 910,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 902,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 893,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 3\n      },\n      elevation: 2,\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Generation Mode\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 926,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: viewMode,\n                onChange: e => setViewMode(e.target.value),\n                label: \"Generation Mode\",\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"auto\",\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      display: 'flex',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(AutoAwesome, {\n                      sx: {\n                        mr: 1\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 934,\n                      columnNumber: 23\n                    }, this), \"Automatic Generation\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 933,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 932,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"manual\",\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      display: 'flex',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(EditCalendar, {\n                      sx: {\n                        mr: 1\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 940,\n                      columnNumber: 23\n                    }, this), \"Manual Editing\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 939,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 938,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 927,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 925,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 924,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Department Filter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 950,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: selectedDepartment,\n                onChange: e => setSelectedDepartment(e.target.value),\n                label: \"Department Filter\",\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"all\",\n                  children: \"All Departments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 956,\n                  columnNumber: 19\n                }, this), [...new Set(courses.map(course => course.department))].map(dept => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: dept,\n                  children: dept\n                }, dept, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 958,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 951,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 949,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 948,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 1,\n                flexWrap: 'wrap'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                startIcon: /*#__PURE__*/_jsxDEV(AutoFixHigh, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 968,\n                  columnNumber: 30\n                }, this),\n                onClick: generateTimetableAutomatically,\n                disabled: loading,\n                sx: {\n                  flex: 1\n                },\n                children: loading ? 'Generating...' : 'Auto Generate'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 966,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: editMode ? \"Exit Edit Mode\" : \"Enter Edit Mode\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: editMode ? \"contained\" : \"outlined\",\n                  color: editMode ? \"secondary\" : \"primary\",\n                  onClick: () => setEditMode(!editMode),\n                  startIcon: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 981,\n                    columnNumber: 32\n                  }, this),\n                  children: editMode ? 'Editing' : 'Edit'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 977,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 976,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 965,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 964,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 923,\n          columnNumber: 11\n        }, this), generationProgress > 0 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            gutterBottom: true,\n            children: [\"Generating timetable... \", generationProgress, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 993,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: '100%',\n              bgcolor: 'grey.200',\n              borderRadius: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: `${generationProgress}%`,\n                height: 8,\n                bgcolor: 'primary.main',\n                borderRadius: 1,\n                transition: 'width 0.3s ease'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 997,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 996,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 992,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 922,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 921,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        gap: 1,\n        mb: 3,\n        flexWrap: 'wrap'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Undo\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: undo,\n            disabled: historyIndex <= 0,\n            children: /*#__PURE__*/_jsxDEV(Undo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1017,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1016,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1015,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Redo\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: redo,\n            disabled: historyIndex >= history.length - 1,\n            children: /*#__PURE__*/_jsxDEV(Redo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1025,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1024,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1022,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Clear All\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(Clear, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1033,\n            columnNumber: 24\n          }, this),\n          onClick: initializeEmptyTimetable,\n          children: \"Clear All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1031,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1030,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Copy Timetable\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(ContentCopy, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1043,\n            columnNumber: 24\n          }, this),\n          onClick: () => navigator.clipboard.writeText(JSON.stringify(localTimetable)),\n          children: \"Copy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1040,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1013,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConstraintsPanel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1052,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConflictsPanel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1055,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mt: 3\n      },\n      elevation: 2,\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: editMode ? ' Edit Timetable' : ' Generated Timetable'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1061,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            icon: conflicts.length > 0 ? /*#__PURE__*/_jsxDEV(Warning, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 44\n            }, this) : /*#__PURE__*/_jsxDEV(CheckCircle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 58\n            }, this),\n            label: conflicts.length > 0 ? `${conflicts.length} Conflicts` : 'No Conflicts',\n            color: conflicts.length > 0 ? 'error' : 'success',\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1064,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1060,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TimetableGridView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1059,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1058,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      sx: {\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: \"Total Scheduled Classes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1080,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: localTimetable.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1083,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1079,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1078,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1077,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: \"Available Slots\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1092,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: days.length * timeSlots.length - localTimetable.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1095,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1091,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1090,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1089,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: \"Faculty Utilization\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: [facultyMembers.length > 0 ? Math.round(localTimetable.length / (facultyMembers.length * 20) * 100) : 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: \"Classroom Utilization\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: [classrooms.length > 0 ? Math.round(localTimetable.length / (classrooms.length * 40) * 100) : 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1076,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScheduleDialog, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!error,\n      autoHideDuration: 6000,\n      onClose: () => setError(null),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        onClose: () => setError(null),\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!success,\n      autoHideDuration: 4000,\n      onClose: () => setSuccess(null),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        onClose: () => setSuccess(null),\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n      open: loading,\n      sx: {\n        zIndex: 9999\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Fab, {\n      color: \"primary\",\n      \"aria-label\": \"generate timetable\",\n      sx: {\n        position: 'fixed',\n        bottom: 24,\n        right: 24,\n        display: {\n          xs: 'flex',\n          md: 'none'\n        }\n      },\n      onClick: generateTimetableAutomatically,\n      disabled: loading,\n      children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 24,\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1161,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(AutoFixHigh, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1161,\n        columnNumber: 69\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1149,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 891,\n    columnNumber: 5\n  }, this);\n};\n_s(TimetableManagementTab, \"F0PcOwTWQVplF1rIVbfhKpcVPk0=\");\n_c = TimetableManagementTab;\nexport default TimetableManagementTab;\nvar _c;\n$RefreshReg$(_c, \"TimetableManagementTab\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Button","Grid","Card","CardContent","Chip","IconButton","Paper","TextField","FormControl","InputLabel","Select","MenuItem","Dialog","DialogTitle","DialogContent","DialogActions","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Switch","FormControlLabel","Alert","Snackbar","CircularProgress","Tooltip","Tabs","Tab","RadioGroup","Radio","FormLabel","Accordion","AccordionSummary","AccordionDetails","List","ListItem","ListItemText","Divider","Backdrop","Fab","Add","Refresh","Edit","Delete","AutoAwesome","Settings","Download","Print","Share","Visibility","Schedule","Class","Person","MeetingRoom","ExpandMore","FilterList","Search","Save","Clear","AutoFixHigh","EditCalendar","ContentCopy","Undo","Redo","Warning","CheckCircle","jsxDEV","_jsxDEV","TimetableManagementTab","timetable","courses","classrooms","users","onGenerateTimetable","onUpdateTimetable","onDeleteTimetable","onSaveTimetable","colorScheme","loading","_s","localTimetable","setLocalTimetable","error","setError","success","setSuccess","viewMode","setViewMode","selectedDepartment","setSelectedDepartment","constraints","setConstraints","avoidBackToBack","maxHoursPerDay","minGapBetweenClasses","preferMorningSlots","avoidEveningClasses","editMode","setEditMode","scheduleDialogOpen","setScheduleDialogOpen","selectedSlot","setSelectedSlot","conflicts","setConflicts","generationProgress","setGenerationProgress","history","setHistory","historyIndex","setHistoryIndex","scheduleForm","setScheduleForm","courseId","facultyId","classroomId","classType","timeSlots","days","facultyMembers","filter","user","role","length","console","log","addToHistory","detectConflicts","savedTimetable","localStorage","getItem","parsedTimetable","JSON","parse","err","initializeEmptyTimetable","setItem","stringify","saveTimetableToBackend","catch","emptyTimetable","newTimetable","newHistory","slice","push","undo","redo","timetableData","generateTimetableAutomatically","i","Promise","resolve","setTimeout","generatedTimetable","generateLocalTimetable","saved","message","availableCourses","course","id","_id","availableFaculty","faculty","availableClassrooms","classroom","courseIndex","facultySchedule","classroomSchedule","facultyDailyHours","classroomDailyUsage","forEach","day","timeSlot","slotIndex","shouldSchedule","shouldScheduleInSlot","find","f","department","c","capacity","maxStudents","previousSlot","nextSlot","Date","now","courseType","minGap","spacing","timetableToCheck","newConflicts","entry","facultyKey","classroomKey","type","slot","resource","timeIndex","indexOf","handleConstraintChange","constraintName","value","prev","handleManualSchedule","existingEntry","saveManualSchedule","selectedCourse","selectedFaculty","selectedClassroom","scheduleData","existingEntryIndex","findIndex","map","index","newEntry","clearSlot","entryToDelete","getEntryForSlot","exportTimetable","format","toUpperCase","getDepartmentColor","colors","TimetableGridView","sx","mt","children","component","elevation","maxHeight","overflow","minWidth","size","fontWeight","bgcolor","color","width","position","left","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","align","_scheduledClass$cours","_scheduledClass$facul","_scheduledClass$facul2","_scheduledClass$class","_scheduledClass$class2","_scheduledClass$cours2","scheduledClass","hasConflict","some","conflict","height","border","borderColor","cursor","p","opacity","onClick","fontSize","variant","display","noWrap","code","name","split","label","charAt","className","top","right","transition","title","e","stopPropagation","ScheduleDialog","open","onClose","maxWidth","fullWidth","gutterBottom","container","item","xs","onChange","target","ConstraintsPanel","expandIcon","sm","control","checked","parseInt","InputProps","inputProps","min","max","ConflictsPanel","alignItems","mb","mr","dense","primary","secondary","justifyContent","gap","startIcon","md","Set","dept","flexWrap","disabled","flex","borderRadius","navigator","clipboard","writeText","icon","Math","round","autoHideDuration","severity","bottom","_c","$RefreshReg$"],"sources":["/Volumes/Macbook-1/GITAM/5th_sem/WADSF/project/Mini project/smart-classroom/frontend/src/pages/admin/tabs/TimetableManagementTab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  Button,\n  Grid,\n  Card,\n  CardContent,\n  Chip,\n  IconButton,\n  Paper,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Switch,\n  FormControlLabel,\n  Alert,\n  Snackbar,\n  CircularProgress,\n  Tooltip,\n  Tabs,\n  Tab,\n  RadioGroup,\n  Radio,\n  FormLabel,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  List,\n  ListItem,\n  ListItemText,\n  Divider,\n  Backdrop,\n  Fab\n} from '@mui/material';\nimport {\n  Add,\n  Refresh,\n  Edit,\n  Delete,\n  AutoAwesome,\n  Settings,\n  Download,\n  Print,\n  Share,\n  Visibility,\n  Schedule,\n  Class,\n  Person,\n  MeetingRoom,\n  ExpandMore,\n  FilterList,\n  Search,\n  Save,\n  Clear,\n  AutoFixHigh,\n  EditCalendar,\n  ContentCopy,\n  Undo,\n  Redo,\n  Warning,\n  CheckCircle\n} from '@mui/icons-material';\n\nconst TimetableManagementTab = ({ \n  timetable = [], \n  courses = [], \n  classrooms = [], \n  users = [], \n  onGenerateTimetable,\n  onUpdateTimetable,\n  onDeleteTimetable,\n  onSaveTimetable,\n  colorScheme,\n  loading = false \n}) => {\n  const [localTimetable, setLocalTimetable] = useState([]);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [viewMode, setViewMode] = useState('auto');\n  const [selectedDepartment, setSelectedDepartment] = useState('all');\n  const [constraints, setConstraints] = useState({\n    avoidBackToBack: true,\n    maxHoursPerDay: 6,\n    minGapBetweenClasses: 0,\n    preferMorningSlots: true,\n    avoidEveningClasses: false\n  });\n  const [editMode, setEditMode] = useState(false);\n  const [scheduleDialogOpen, setScheduleDialogOpen] = useState(false);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [conflicts, setConflicts] = useState([]);\n  const [generationProgress, setGenerationProgress] = useState(0);\n  const [history, setHistory] = useState([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  \n  // Form state for manual scheduling\n  const [scheduleForm, setScheduleForm] = useState({\n    courseId: '',\n    facultyId: '',\n    classroomId: '',\n    classType: 'Lecture'\n  });\n\n  // Time slots and days\n  const timeSlots = [\n    '08:00-09:00', '09:00-10:00', '10:00-11:00', '11:00-12:00',\n    '12:00-13:00', '13:00-14:00', '14:00-15:00', '15:00-16:00', '16:00-17:00'\n  ];\n  const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n\n  // Get faculty members from users\n  const facultyMembers = users.filter(user => user.role === 'faculty');\n\n  // FIXED: Initialize timetable with proper persistence\n  useEffect(() => {\n    // First priority: Use timetable from props (from parent/backend)\n    if (timetable && timetable.length > 0) {\n      console.log('Loading timetable from props:', timetable.length, 'entries');\n      setLocalTimetable(timetable);\n      addToHistory(timetable);\n      detectConflicts(timetable);\n    } \n    // Second priority: Try to load from localStorage as backup\n    else {\n      const savedTimetable = localStorage.getItem('smartClassroom_timetable');\n      if (savedTimetable) {\n        try {\n          const parsedTimetable = JSON.parse(savedTimetable);\n          console.log('Loading timetable from localStorage:', parsedTimetable.length, 'entries');\n          setLocalTimetable(parsedTimetable);\n          addToHistory(parsedTimetable);\n          detectConflicts(parsedTimetable);\n          setSuccess('Timetable loaded from local storage');\n        } catch (err) {\n          console.error('Error loading saved timetable:', err);\n          initializeEmptyTimetable();\n        }\n      } else {\n        console.log('No saved timetable found, initializing empty');\n        initializeEmptyTimetable();\n      }\n    }\n  }, [timetable]);\n\n  // FIXED: Save to localStorage AND backend whenever timetable changes\n  useEffect(() => {\n    if (localTimetable.length > 0) {\n      console.log('Saving timetable to localStorage:', localTimetable.length, 'entries');\n      localStorage.setItem('smartClassroom_timetable', JSON.stringify(localTimetable));\n      \n      // Also save to backend if available\n      if (onSaveTimetable) {\n        saveTimetableToBackend(localTimetable).catch(err => {\n          console.error('Failed to save to backend:', err);\n        });\n      }\n    }\n  }, [localTimetable]);\n\n  const initializeEmptyTimetable = () => {\n    const emptyTimetable = [];\n    addToHistory(emptyTimetable);\n    setLocalTimetable(emptyTimetable);\n  };\n\n  const addToHistory = (newTimetable) => {\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push(JSON.parse(JSON.stringify(newTimetable)));\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  };\n\n  const undo = () => {\n    if (historyIndex > 0) {\n      setHistoryIndex(historyIndex - 1);\n      setLocalTimetable(JSON.parse(JSON.stringify(history[historyIndex - 1])));\n    }\n  };\n\n  const redo = () => {\n    if (historyIndex < history.length - 1) {\n      setHistoryIndex(historyIndex + 1);\n      setLocalTimetable(JSON.parse(JSON.stringify(history[historyIndex + 1])));\n    }\n  };\n\n  // Save timetable to MongoDB backend\n  const saveTimetableToBackend = async (timetableData) => {\n    if (onSaveTimetable) {\n      try {\n        await onSaveTimetable(timetableData);\n        console.log('Timetable saved to backend successfully');\n        return true;\n      } catch (err) {\n        console.error('Failed to save to backend:', err);\n        setError('Failed to save timetable to database');\n        return false;\n      }\n    }\n    return false;\n  };\n\n  const generateTimetableAutomatically = async () => {\n    setGenerationProgress(0);\n    \n    try {\n      // Simulate generation process with progress\n      for (let i = 0; i <= 100; i += 20) {\n        setGenerationProgress(i);\n        await new Promise(resolve => setTimeout(resolve, 200));\n      }\n\n      const generatedTimetable = generateLocalTimetable();\n      setLocalTimetable(generatedTimetable);\n      addToHistory(generatedTimetable);\n      detectConflicts(generatedTimetable);\n      \n      // Save to MongoDB backend\n      const saved = await saveTimetableToBackend(generatedTimetable);\n      if (saved) {\n        setSuccess('Timetable generated and saved to database successfully!');\n      } else {\n        setSuccess('Timetable generated successfully! (Saved locally)');\n      }\n      \n    } catch (err) {\n      setError('Failed to generate timetable: ' + err.message);\n    } finally {\n      setGenerationProgress(0);\n    }\n  };\n\n  // Generate timetable using real data from course management with constraints\n  const generateLocalTimetable = () => {\n    const generatedTimetable = [];\n    \n    // Use real data from props\n    const availableCourses = courses.filter(course => course && (course.id || course._id));\n    const availableFaculty = facultyMembers.filter(faculty => faculty && (faculty.id || faculty._id));\n    const availableClassrooms = classrooms.filter(classroom => classroom && (classroom.id || classroom._id));\n    \n    if (availableCourses.length === 0) {\n      setError('No courses available. Please add courses first.');\n      return [];\n    }\n    \n    if (availableFaculty.length === 0) {\n      setError('No faculty members available. Please add faculty first.');\n      return [];\n    }\n    \n    if (availableClassrooms.length === 0) {\n      setError('No classrooms available. Please add classrooms first.');\n      return [];\n    }\n\n    let courseIndex = 0;\n    const facultySchedule = {};\n    const classroomSchedule = {};\n    const facultyDailyHours = {};\n    const classroomDailyUsage = {};\n\n    // Apply constraints while generating\n    days.forEach(day => {\n      // Reset daily counters\n      facultyDailyHours[day] = {};\n      classroomDailyUsage[day] = {};\n\n      timeSlots.forEach((timeSlot, slotIndex) => {\n        // Apply morning preference constraint\n        if (constraints.preferMorningSlots && slotIndex > 4) {\n          return; // Skip evening slots if preferred\n        }\n\n        // Apply evening avoidance constraint\n        if (constraints.avoidEveningClasses && slotIndex > 6) {\n          return; // Skip late evening slots\n        }\n\n        // Apply gap constraint properly\n        const shouldSchedule = shouldScheduleInSlot(slotIndex, constraints.minGapBetweenClasses);\n        \n        if (shouldSchedule && courseIndex < availableCourses.length) {\n          const course = availableCourses[courseIndex];\n          \n          // Find faculty from same department as course\n          const faculty = availableFaculty.find(f => \n            f.department === course.department && \n            !facultySchedule[`${f.id}-${day}-${timeSlot}`] && // Check faculty availability\n            (!facultyDailyHours[day][f.id] || facultyDailyHours[day][f.id] < constraints.maxHoursPerDay) // Check daily hours limit\n          ) || availableFaculty[courseIndex % availableFaculty.length];\n          \n          // Find suitable classroom\n          const classroom = availableClassrooms.find(c => \n            c.capacity >= (course.maxStudents || 30) &&\n            !classroomSchedule[`${c.id}-${day}-${timeSlot}`] && // Check classroom availability\n            (!classroomDailyUsage[day][c.id] || classroomDailyUsage[day][c.id] < constraints.maxHoursPerDay) // Check daily usage limit\n          ) || availableClassrooms[courseIndex % availableClassrooms.length];\n\n          if (course && faculty && classroom) {\n            // Apply back-to-back constraint\n            if (constraints.avoidBackToBack) {\n              const previousSlot = timeSlots[slotIndex - 1];\n              const nextSlot = timeSlots[slotIndex + 1];\n              \n              // Check if faculty or classroom is already booked in adjacent slots\n              if (facultySchedule[`${faculty.id}-${day}-${previousSlot}`] || \n                  facultySchedule[`${faculty.id}-${day}-${nextSlot}`] ||\n                  classroomSchedule[`${classroom.id}-${day}-${previousSlot}`] ||\n                  classroomSchedule[`${classroom.id}-${day}-${nextSlot}`]) {\n                return; // Skip this slot to avoid back-to-back\n              }\n            }\n\n            generatedTimetable.push({\n              id: `${day}-${timeSlot}-${courseIndex}-${Date.now()}`,\n              day,\n              timeSlot,\n              courseId: course.id || course._id,\n              facultyId: faculty.id || faculty._id,\n              classroomId: classroom.id || classroom._id,\n              classType: course.courseType || 'Lecture',\n              course: course,\n              faculty: faculty,\n              classroom: classroom\n            });\n\n            // Mark faculty and classroom as booked\n            facultySchedule[`${faculty.id}-${day}-${timeSlot}`] = true;\n            classroomSchedule[`${classroom.id}-${day}-${timeSlot}`] = true;\n            \n            // Update daily counters\n            facultyDailyHours[day][faculty.id] = (facultyDailyHours[day][faculty.id] || 0) + 1;\n            classroomDailyUsage[day][classroom.id] = (classroomDailyUsage[day][classroom.id] || 0) + 1;\n            \n            courseIndex++;\n          }\n        }\n      });\n    });\n\n    return generatedTimetable;\n  };\n\n  // Helper function to determine if we should schedule in this slot based on gap\n  const shouldScheduleInSlot = (slotIndex, minGap) => {\n    if (minGap === 0) {\n      return true; // No gap required, schedule in every slot\n    }\n    \n    // For gap > 0, calculate spacing\n    const spacing = minGap + 1; // gap of 1 means schedule every other slot\n    return slotIndex % spacing === 0;\n  };\n\n  const detectConflicts = (timetableToCheck) => {\n    const newConflicts = [];\n    const facultySchedule = {};\n    const classroomSchedule = {};\n    const facultyDailyHours = {};\n    const classroomDailyUsage = {};\n\n    timetableToCheck.forEach(entry => {\n      const facultyKey = `${entry.facultyId}-${entry.day}-${entry.timeSlot}`;\n      const classroomKey = `${entry.classroomId}-${entry.day}-${entry.timeSlot}`;\n\n      // Initialize daily counters\n      if (!facultyDailyHours[entry.day]) facultyDailyHours[entry.day] = {};\n      if (!classroomDailyUsage[entry.day]) classroomDailyUsage[entry.day] = {};\n\n      // Check faculty conflicts\n      if (facultySchedule[facultyKey]) {\n        newConflicts.push({\n          type: 'faculty',\n          message: `Faculty is double-booked at ${entry.day} ${entry.timeSlot}`,\n          day: entry.day,\n          slot: entry.timeSlot,\n          resource: entry.facultyId\n        });\n      } else {\n        facultySchedule[facultyKey] = true;\n        facultyDailyHours[entry.day][entry.facultyId] = (facultyDailyHours[entry.day][entry.facultyId] || 0) + 1;\n      }\n\n      // Check classroom conflicts\n      if (classroomSchedule[classroomKey]) {\n        newConflicts.push({\n          type: 'classroom',\n          message: `Classroom is double-booked at ${entry.day} ${entry.timeSlot}`,\n          day: entry.day,\n          slot: entry.timeSlot,\n          resource: entry.classroomId\n        });\n      } else {\n        classroomSchedule[classroomKey] = true;\n        classroomDailyUsage[entry.day][entry.classroomId] = (classroomDailyUsage[entry.day][entry.classroomId] || 0) + 1;\n      }\n\n      // Check daily hours constraint\n      if (facultyDailyHours[entry.day][entry.facultyId] > constraints.maxHoursPerDay) {\n        newConflicts.push({\n          type: 'constraint',\n          message: `Faculty exceeds daily hours limit (${constraints.maxHoursPerDay}) on ${entry.day}`,\n          day: entry.day,\n          slot: entry.timeSlot,\n          resource: entry.facultyId\n        });\n      }\n\n      // Check back-to-back constraint violations\n      if (constraints.avoidBackToBack) {\n        const timeIndex = timeSlots.indexOf(entry.timeSlot);\n        const previousSlot = timeSlots[timeIndex - 1];\n        const nextSlot = timeSlots[timeIndex + 1];\n\n        if (previousSlot && facultySchedule[`${entry.facultyId}-${entry.day}-${previousSlot}`]) {\n          newConflicts.push({\n            type: 'constraint',\n            message: `Faculty has back-to-back classes at ${entry.day}`,\n            day: entry.day,\n            slot: entry.timeSlot,\n            resource: entry.facultyId\n          });\n        }\n      }\n    });\n\n    setConflicts(newConflicts);\n  };\n\n  // Stable constraints update without flickering\n  const handleConstraintChange = (constraintName, value) => {\n    setConstraints(prev => ({\n      ...prev,\n      [constraintName]: value\n    }));\n  };\n\n  const handleManualSchedule = (day, timeSlot) => {\n    setSelectedSlot({ day, timeSlot });\n    \n    const existingEntry = localTimetable.find(entry => \n      entry.day === day && entry.timeSlot === timeSlot\n    );\n    \n    if (existingEntry) {\n      setScheduleForm({\n        courseId: existingEntry.courseId,\n        facultyId: existingEntry.facultyId,\n        classroomId: existingEntry.classroomId,\n        classType: existingEntry.classType || 'Lecture'\n      });\n    } else {\n      setScheduleForm({\n        courseId: '',\n        facultyId: '',\n        classroomId: '',\n        classType: 'Lecture'\n      });\n    }\n    \n    setScheduleDialogOpen(true);\n  };\n\n  const saveManualSchedule = async () => {\n    try {\n      const selectedCourse = courses.find(c => c.id === scheduleForm.courseId || c._id === scheduleForm.courseId);\n      const selectedFaculty = facultyMembers.find(f => f.id === scheduleForm.facultyId || f._id === scheduleForm.facultyId);\n      const selectedClassroom = classrooms.find(c => c.id === scheduleForm.classroomId || c._id === scheduleForm.classroomId);\n\n      if (!selectedCourse || !selectedFaculty || !selectedClassroom) {\n        setError('Please select all required fields');\n        return;\n      }\n\n      const scheduleData = {\n        day: selectedSlot.day,\n        timeSlot: selectedSlot.timeSlot,\n        courseId: scheduleForm.courseId,\n        facultyId: scheduleForm.facultyId,\n        classroomId: scheduleForm.classroomId,\n        classType: scheduleForm.classType,\n        course: selectedCourse,\n        faculty: selectedFaculty,\n        classroom: selectedClassroom\n      };\n\n      const existingEntryIndex = localTimetable.findIndex(entry => \n        entry.day === selectedSlot.day && entry.timeSlot === selectedSlot.timeSlot\n      );\n\n      let newTimetable;\n      if (existingEntryIndex >= 0) {\n        if (onUpdateTimetable && localTimetable[existingEntryIndex].id) {\n          await onUpdateTimetable(localTimetable[existingEntryIndex].id, scheduleData);\n        }\n        newTimetable = localTimetable.map((entry, index) => \n          index === existingEntryIndex ? { ...entry, ...scheduleData } : entry\n        );\n      } else {\n        const newEntry = {\n          ...scheduleData,\n          id: `${selectedSlot.day}-${selectedSlot.timeSlot}-${Date.now()}`\n        };\n        newTimetable = [...localTimetable, newEntry];\n      }\n\n      setLocalTimetable(newTimetable);\n      addToHistory(newTimetable);\n      detectConflicts(newTimetable);\n      \n      // Save to MongoDB backend\n      await saveTimetableToBackend(newTimetable);\n      \n      setScheduleDialogOpen(false);\n      setSelectedSlot(null);\n      setScheduleForm({ courseId: '', facultyId: '', classroomId: '', classType: 'Lecture' });\n      setSuccess(existingEntryIndex >= 0 ? 'Class updated successfully!' : 'Class scheduled successfully!');\n    } catch (err) {\n      setError('Failed to save schedule: ' + err.message);\n    }\n  };\n\n  const clearSlot = async (day, timeSlot) => {\n    try {\n      const entryToDelete = localTimetable.find(entry => \n        entry.day === day && entry.timeSlot === timeSlot\n      );\n\n      if (entryToDelete && entryToDelete.id && onDeleteTimetable) {\n        await onDeleteTimetable(entryToDelete.id);\n      }\n\n      const newTimetable = localTimetable.filter(entry => \n        !(entry.day === day && entry.timeSlot === timeSlot)\n      );\n      \n      setLocalTimetable(newTimetable);\n      addToHistory(newTimetable);\n      detectConflicts(newTimetable);\n      \n      // Save to MongoDB backend\n      await saveTimetableToBackend(newTimetable);\n      \n      setSuccess('Slot cleared successfully!');\n    } catch (err) {\n      setError('Failed to clear slot: ' + err.message);\n    }\n  };\n\n  const getEntryForSlot = (day, timeSlot) => {\n    return localTimetable.find(entry => \n      entry.day === day && entry.timeSlot === timeSlot\n    );\n  };\n\n  const exportTimetable = (format) => {\n    setSuccess(`Timetable exported as ${format.toUpperCase()} successfully!`);\n  };\n\n  const getDepartmentColor = (department) => {\n    const colors = {\n      'Computer Science': '#1976d2',\n      'Mathematics': '#2e7d32',\n      'Physics': '#ed6c02',\n      'Chemistry': '#7b1fa2',\n      'Biology': '#00838f'\n    };\n    return colors[department] || '#757575';\n  };\n\n  // Compact timetable grid\n  const TimetableGridView = () => (\n    <Box sx={{ mt: 3 }}>\n      <TableContainer component={Paper} elevation={2} sx={{ maxHeight: '60vh', overflow: 'auto' }}>\n        <Table sx={{ minWidth: 600 }} size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell sx={{ \n                fontWeight: 'bold', \n                bgcolor: 'primary.main', \n                color: 'white', \n                width: 100,\n                position: 'sticky',\n                left: 0,\n                zIndex: 2\n              }}>\n                Day / Time\n              </TableCell>\n              {timeSlots.map(timeSlot => (\n                <TableCell \n                  key={timeSlot} \n                  align=\"center\" \n                  sx={{ \n                    fontWeight: 'bold', \n                    bgcolor: 'primary.main', \n                    color: 'white', \n                    width: 120,\n                    minWidth: 120\n                  }}\n                >\n                  {timeSlot}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {days.map(day => (\n              <TableRow key={day}>\n                <TableCell sx={{ \n                  fontWeight: 'bold', \n                  bgcolor: 'grey.50', \n                  width: 100,\n                  position: 'sticky',\n                  left: 0,\n                  zIndex: 1\n                }}>\n                  {day}\n                </TableCell>\n                {timeSlots.map(timeSlot => {\n                  const scheduledClass = getEntryForSlot(day, timeSlot);\n                  const hasConflict = conflicts.some(conflict => \n                    conflict.day === day && conflict.slot === timeSlot\n                  );\n\n                  return (\n                    <TableCell\n                      key={`${day}-${timeSlot}`}\n                      sx={{\n                        width: 120,\n                        height: 60,\n                        border: '1px solid',\n                        borderColor: 'divider',\n                        bgcolor: hasConflict ? 'error.light' : (scheduledClass ? 'success.light' : 'background.paper'),\n                        cursor: editMode ? 'pointer' : 'default',\n                        position: 'relative',\n                        p: 0.5,\n                        '&:hover': editMode ? {\n                          bgcolor: 'action.hover',\n                          '& .action-buttons': { opacity: 1 }\n                        } : {}\n                      }}\n                      onClick={() => editMode && handleManualSchedule(day, timeSlot)}\n                    >\n                      {scheduledClass ? (\n                        <Box sx={{ fontSize: '0.7rem' }}>\n                          <Typography variant=\"caption\" fontWeight=\"bold\" display=\"block\" noWrap>\n                            {scheduledClass.course?.code || scheduledClass.courseId}\n                          </Typography>\n                          <Typography variant=\"caption\" display=\"block\" noWrap>\n                            {scheduledClass.faculty?.name?.split(' ')[0] || 'Faculty'}\n                          </Typography>\n                          <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\" noWrap>\n                            {scheduledClass.classroom?.name || 'Room'}\n                          </Typography>\n                          <Chip\n                            label={scheduledClass.classType?.charAt(0) || 'L'}\n                            size=\"small\"\n                            sx={{\n                              height: 14,\n                              fontSize: '0.5rem',\n                              bgcolor: getDepartmentColor(scheduledClass.course?.department)\n                            }}\n                          />\n                        </Box>\n                      ) : (\n                        <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontSize: '0.7rem' }}>\n                          Available\n                        </Typography>\n                      )}\n                      \n                      {editMode && scheduledClass && (\n                        <Box className=\"action-buttons\" sx={{ \n                          opacity: 0, \n                          position: 'absolute', \n                          top: 2, \n                          right: 2, \n                          transition: 'opacity 0.2s' \n                        }}>\n                          <Tooltip title=\"Clear Slot\">\n                            <IconButton size=\"small\" onClick={(e) => { e.stopPropagation(); clearSlot(day, timeSlot); }}>\n                              <Clear fontSize=\"small\" />\n                            </IconButton>\n                          </Tooltip>\n                        </Box>\n                      )}\n                    </TableCell>\n                  );\n                })}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Box>\n  );\n\n  const ScheduleDialog = () => (\n    <Dialog open={scheduleDialogOpen} onClose={() => setScheduleDialogOpen(false)} maxWidth=\"md\" fullWidth>\n      <DialogTitle>\n        {localTimetable.find(entry => entry.day === selectedSlot?.day && entry.timeSlot === selectedSlot?.timeSlot) \n          ? 'Edit Class' \n          : 'Schedule Class'\n        }\n      </DialogTitle>\n      <DialogContent>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          {selectedSlot?.day} at {selectedSlot?.timeSlot}\n        </Typography>\n        <Grid container spacing={2} sx={{ mt: 1 }}>\n          <Grid item xs={12}>\n            <FormControl fullWidth>\n              <InputLabel>Select Course</InputLabel>\n              <Select \n                label=\"Select Course\"\n                value={scheduleForm.courseId}\n                onChange={(e) => setScheduleForm({...scheduleForm, courseId: e.target.value})}\n              >\n                {courses.map(course => (\n                  <MenuItem key={course.id || course._id} value={course.id || course._id}>\n                    {course.code} - {course.name} ({course.department})\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item xs={12}>\n            <FormControl fullWidth>\n              <InputLabel>Select Faculty</InputLabel>\n              <Select \n                label=\"Select Faculty\"\n                value={scheduleForm.facultyId}\n                onChange={(e) => setScheduleForm({...scheduleForm, facultyId: e.target.value})}\n              >\n                {facultyMembers.map(faculty => (\n                  <MenuItem key={faculty.id || faculty._id} value={faculty.id || faculty._id}>\n                    {faculty.name} - {faculty.department}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item xs={12}>\n            <FormControl fullWidth>\n              <InputLabel>Select Classroom</InputLabel>\n              <Select \n                label=\"Select Classroom\"\n                value={scheduleForm.classroomId}\n                onChange={(e) => setScheduleForm({...scheduleForm, classroomId: e.target.value})}\n              >\n                {classrooms.map(classroom => (\n                  <MenuItem key={classroom.id || classroom._id} value={classroom.id || classroom._id}>\n                    {classroom.name} ({classroom.type}, Capacity: {classroom.capacity})\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item xs={12}>\n            <FormControl fullWidth>\n              <InputLabel>Class Type</InputLabel>\n              <Select \n                label=\"Class Type\" \n                value={scheduleForm.classType}\n                onChange={(e) => setScheduleForm({...scheduleForm, classType: e.target.value})}\n              >\n                <MenuItem value=\"Lecture\">Lecture</MenuItem>\n                <MenuItem value=\"Lab\">Lab</MenuItem>\n                <MenuItem value=\"Tutorial\">Tutorial</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => setScheduleDialogOpen(false)}>Cancel</Button>\n        <Button variant=\"contained\" onClick={saveManualSchedule}>\n          {localTimetable.find(entry => entry.day === selectedSlot?.day && entry.timeSlot === selectedSlot?.timeSlot) \n            ? 'Update' \n            : 'Schedule'\n          }\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n\n  const ConstraintsPanel = () => (\n    <Accordion>\n      <AccordionSummary expandIcon={<ExpandMore />}>\n        <Typography variant=\"h6\"> Scheduling Constraints</Typography>\n      </AccordionSummary>\n      <AccordionDetails>\n        <Grid container spacing={3}>\n          <Grid item xs={12} sm={6}>\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={constraints.avoidBackToBack}\n                  onChange={(e) => handleConstraintChange('avoidBackToBack', e.target.checked)}\n                />\n              }\n              label=\"Avoid Back-to-Back Classes\"\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={constraints.preferMorningSlots}\n                  onChange={(e) => handleConstraintChange('preferMorningSlots', e.target.checked)}\n                />\n              }\n              label=\"Prefer Morning Slots\"\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={constraints.avoidEveningClasses}\n                  onChange={(e) => handleConstraintChange('avoidEveningClasses', e.target.checked)}\n                />\n              }\n              label=\"Avoid Evening Classes\"\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              fullWidth\n              type=\"number\"\n              label=\"Max Hours Per Day\"\n              value={constraints.maxHoursPerDay}\n              onChange={(e) => handleConstraintChange('maxHoursPerDay', parseInt(e.target.value))}\n              InputProps={{ inputProps: { min: 1, max: 12 } }}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              fullWidth\n              type=\"number\"\n              label=\"Min Gap Between Classes (hours)\"\n              value={constraints.minGapBetweenClasses}\n              onChange={(e) => handleConstraintChange('minGapBetweenClasses', parseInt(e.target.value))}\n              InputProps={{ inputProps: { min: 0, max: 4 } }}\n            />\n          </Grid>\n        </Grid>\n      </AccordionDetails>\n    </Accordion>\n  );\n\n  const ConflictsPanel = () => (\n    conflicts.length > 0 && (\n      <Card sx={{ mt: 2, border: '2px solid', borderColor: 'error.main' }}>\n        <CardContent>\n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n            <Warning color=\"error\" sx={{ mr: 1 }} />\n            <Typography variant=\"h6\" color=\"error\">\n              Schedule Conflicts ({conflicts.length})\n            </Typography>\n          </Box>\n          <List dense>\n            {conflicts.map((conflict, index) => (\n              <ListItem key={index}>\n                <ListItemText\n                  primary={conflict.message}\n                  secondary={`${conflict.day} at ${conflict.slot}`}\n                />\n              </ListItem>\n            ))}\n          </List>\n        </CardContent>\n      </Card>\n    )\n  );\n\n  return (\n    <Box sx={{ p: 3 }}>\n      {/* Header */}\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n        <Box>\n          <Typography variant=\"h4\" sx={{ color: colorScheme?.primary || '#1976d2', mb: 1, fontWeight: 'bold' }}>\n             Timetable Management\n          </Typography>\n          <Typography variant=\"body1\" color=\"text.secondary\">\n            Generate and manage academic schedules automatically or manually\n          </Typography>\n        </Box>\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <Button\n            variant=\"outlined\"\n            startIcon={<Download />}\n            onClick={() => exportTimetable('pdf')}\n          >\n            Export\n          </Button>\n          <Button\n            variant=\"outlined\"\n            startIcon={<Print />}\n            onClick={() => exportTimetable('print')}\n          >\n            Print\n          </Button>\n        </Box>\n      </Box>\n\n      {/* Control Panel */}\n      <Card sx={{ mb: 3 }} elevation={2}>\n        <CardContent>\n          <Grid container spacing={3} alignItems=\"center\">\n            <Grid item xs={12} md={4}>\n              <FormControl fullWidth>\n                <InputLabel>Generation Mode</InputLabel>\n                <Select\n                  value={viewMode}\n                  onChange={(e) => setViewMode(e.target.value)}\n                  label=\"Generation Mode\"\n                >\n                  <MenuItem value=\"auto\">\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                      <AutoAwesome sx={{ mr: 1 }} />\n                      Automatic Generation\n                    </Box>\n                  </MenuItem>\n                  <MenuItem value=\"manual\">\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                      <EditCalendar sx={{ mr: 1 }} />\n                      Manual Editing\n                    </Box>\n                  </MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n\n            <Grid item xs={12} md={4}>\n              <FormControl fullWidth>\n                <InputLabel>Department Filter</InputLabel>\n                <Select\n                  value={selectedDepartment}\n                  onChange={(e) => setSelectedDepartment(e.target.value)}\n                  label=\"Department Filter\"\n                >\n                  <MenuItem value=\"all\">All Departments</MenuItem>\n                  {[...new Set(courses.map(course => course.department))].map(dept => (\n                    <MenuItem key={dept} value={dept}>{dept}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </Grid>\n\n            <Grid item xs={12} md={4}>\n              <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>\n                <Button\n                  variant=\"contained\"\n                  startIcon={<AutoFixHigh />}\n                  onClick={generateTimetableAutomatically}\n                  disabled={loading}\n                  sx={{ flex: 1 }}\n                >\n                  {loading ? 'Generating...' : 'Auto Generate'}\n                </Button>\n                \n                <Tooltip title={editMode ? \"Exit Edit Mode\" : \"Enter Edit Mode\"}>\n                  <Button\n                    variant={editMode ? \"contained\" : \"outlined\"}\n                    color={editMode ? \"secondary\" : \"primary\"}\n                    onClick={() => setEditMode(!editMode)}\n                    startIcon={<Edit />}\n                  >\n                    {editMode ? 'Editing' : 'Edit'}\n                  </Button>\n                </Tooltip>\n              </Box>\n            </Grid>\n          </Grid>\n\n          {/* Progress Bar */}\n          {generationProgress > 0 && (\n            <Box sx={{ mt: 2 }}>\n              <Typography variant=\"body2\" gutterBottom>\n                Generating timetable... {generationProgress}%\n              </Typography>\n              <Box sx={{ width: '100%', bgcolor: 'grey.200', borderRadius: 1 }}>\n                <Box\n                  sx={{\n                    width: `${generationProgress}%`,\n                    height: 8,\n                    bgcolor: 'primary.main',\n                    borderRadius: 1,\n                    transition: 'width 0.3s ease'\n                  }}\n                />\n              </Box>\n            </Box>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Action Buttons */}\n      <Box sx={{ display: 'flex', gap: 1, mb: 3, flexWrap: 'wrap' }}>\n        <Tooltip title=\"Undo\">\n          <span>\n            <IconButton onClick={undo} disabled={historyIndex <= 0}>\n              <Undo />\n            </IconButton>\n          </span>\n        </Tooltip>\n        \n        <Tooltip title=\"Redo\">\n          <span>\n            <IconButton onClick={redo} disabled={historyIndex >= history.length - 1}>\n              <Redo />\n            </IconButton>\n          </span>\n        </Tooltip>\n        \n        <Tooltip title=\"Clear All\">\n          <Button\n            variant=\"outlined\"\n            startIcon={<Clear />}\n            onClick={initializeEmptyTimetable}\n          >\n            Clear All\n          </Button>\n        </Tooltip>\n\n        <Tooltip title=\"Copy Timetable\">\n          <Button\n            variant=\"outlined\"\n            startIcon={<ContentCopy />}\n            onClick={() => navigator.clipboard.writeText(JSON.stringify(localTimetable))}\n          >\n            Copy\n          </Button>\n        </Tooltip>\n      </Box>\n\n      {/* Constraints Panel */}\n      <ConstraintsPanel />\n\n      {/* Conflicts Panel */}\n      <ConflictsPanel />\n\n      {/* Timetable Display */}\n      <Card sx={{ mt: 3 }} elevation={2}>\n        <CardContent>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n            <Typography variant=\"h6\">\n              {editMode ? ' Edit Timetable' : ' Generated Timetable'}\n            </Typography>\n            <Chip\n              icon={conflicts.length > 0 ? <Warning /> : <CheckCircle />}\n              label={conflicts.length > 0 ? `${conflicts.length} Conflicts` : 'No Conflicts'}\n              color={conflicts.length > 0 ? 'error' : 'success'}\n              variant=\"outlined\"\n            />\n          </Box>\n          <TimetableGridView />\n        </CardContent>\n      </Card>\n\n      {/* Statistics */}\n      <Grid container spacing={3} sx={{ mt: 2 }}>\n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"text.secondary\" gutterBottom>\n                Total Scheduled Classes\n              </Typography>\n              <Typography variant=\"h4\">\n                {localTimetable.length}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"text.secondary\" gutterBottom>\n                Available Slots\n              </Typography>\n              <Typography variant=\"h4\">\n                {days.length * timeSlots.length - localTimetable.length}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"text.secondary\" gutterBottom>\n                Faculty Utilization\n              </Typography>\n              <Typography variant=\"h4\">\n                {facultyMembers.length > 0 ? Math.round((localTimetable.length / (facultyMembers.length * 20)) * 100) : 0}%\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Card>\n            <CardContent>\n              <Typography color=\"text.secondary\" gutterBottom>\n                Classroom Utilization\n              </Typography>\n              <Typography variant=\"h4\">\n                {classrooms.length > 0 ? Math.round((localTimetable.length / (classrooms.length * 40)) * 100) : 0}%\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      {/* Schedule Dialog */}\n      <ScheduleDialog />\n\n      {/* Notifications */}\n      <Snackbar open={!!error} autoHideDuration={6000} onClose={() => setError(null)}>\n        <Alert severity=\"error\" onClose={() => setError(null)}>\n          {error}\n        </Alert>\n      </Snackbar>\n\n      <Snackbar open={!!success} autoHideDuration={4000} onClose={() => setSuccess(null)}>\n        <Alert severity=\"success\" onClose={() => setSuccess(null)}>\n          {success}\n        </Alert>\n      </Snackbar>\n\n      {/* Loading Backdrop */}\n      <Backdrop open={loading} sx={{ zIndex: 9999 }}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n\n      {/* Floating Action Button for Mobile */}\n      <Fab\n        color=\"primary\"\n        aria-label=\"generate timetable\"\n        sx={{\n          position: 'fixed',\n          bottom: 24,\n          right: 24,\n          display: { xs: 'flex', md: 'none' }\n        }}\n        onClick={generateTimetableAutomatically}\n        disabled={loading}\n      >\n        {loading ? <CircularProgress size={24} color=\"inherit\" /> : <AutoFixHigh />}\n      </Fab>\n    </Box>\n  );\n};\n\nexport default TimetableManagementTab;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}